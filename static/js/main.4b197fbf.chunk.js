(this["webpackJsonpprice-beater.fluenty.co.za"]=this["webpackJsonpprice-beater.fluenty.co.za"]||[]).push([[0],{123:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(19),s=a.n(l),c=(a(75),a(9)),i=a(14),o=(a(30),a(25),a(27),a(31),a(4)),m=a(10),u=a.n(m),d=(a(92),a(93),function(e){return r.a.createElement("div",{className:"limiter"},r.a.createElement("div",{className:"container-login100"},r.a.createElement("div",{className:"wrap-login100 p-l-50 p-r-50 p-t-77 p-b-30"},e.children)))}),p=function(e){return{type:"STORE_AUTH",payload:e}},f=function(e){return{type:"STORE_PAGE_NUMBER",payload:e}},E=function(e){return{type:"SET_REGISTERED",payload:e}},h=function(e){return{type:"SET",payload:e}},g=a(5),b=a(18),v=a.n(b),N=a(29),y=a(22),x=a(23),w={get latest(){return JSON.parse(window.localStorage.getItem("price.beater")).auth.user.sellerId}},O=function(){function e(t){Object(y.a)(this,e),this.title=t.title||t.productTitle,this.currentPrice=t.currentPrice||t.productPrice,this.rrp=t.rrp,this.offerId=t.offerId,this.gtin=t.gtin,this.url=t.productTakealotURL||t.url,this.status=t.status,this.barCode=t.mpBarcode,this.minPrice=t.minPrice,this.preferredSalePrice=t.maxPrice,this.increment=t.increment,this.brand=t.brand,this.buybox=t.buyBox,this.plid=t.productLineId,this.currentSellerId=t.currentSellerId,this.autoPricingEnabled=!1,this.isWinningBuybox=this.currentSellerId==w.latest,this.description=t.description,this.image=t.image?t.image.replace("{size}","full"):"",this.plid=t.productLineId}return Object(x.a)(e,[{key:"toggleAutoPricing",value:function(){this.autoPricingEnabled=!this.autoPricingEnabled,console.log("Toggled")}}]),e}(),j=function(){function e(t){Object(y.a)(this,e),this.id=t.id,this.guid=t.guid,this.firstName=t.firstName,this.lastName=t.lastName,this.sellerId=t.sellerId,this.email=t.email,this.apikey=t.apikey}return Object(x.a)(e,null,[{key:"mock",value:function(){return new e({id:23,guid:"1d10f499-d4a9-4a7e-bc8d-c26b31f74291",firstName:"Byron",lastName:"Coetsee",sellerId:"9760",email:"byroncoetsee@gmail.com",apikey:"1234567890",createdAt:"2020-04-02T16:28:45",updatedAt:"2020-04-02T16:28:45",deletedAt:null})}}]),e}(),k="https://5habbbbms2.execute-api.us-east-1.amazonaws.com/dev",I="A8x8nBruJt5Obic2pzNdF3AtEzL4QOea6hN13D8A",S={get latest(){return JSON.parse(window.localStorage.getItem("price.beater")).auth.user.guid}};function P(){return A.apply(this,arguments)}function A(){return(A=Object(N.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=S.latest){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,u.a.get(k+"/offers?guid="+S.latest,{headers:{"x-api-key":I}});case 5:return t=e.sent,a=[],t.data.map((function(e,t){a.push(new O(e))})),e.abrupt("return",a);case 11:return e.prev=11,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}function T(){return(T=Object(N.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!=t){e.next=4;break}return console.log("No GUID provided to 'whoami'"),e.abrupt("return",null);case 4:return e.next=6,u.a.get(k+"/whoami?guid="+t,{headers:{"x-api-key":I}});case 6:return a=e.sent,e.abrupt("return",new j(a.data[0]));case 10:return e.prev=10,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var z=Object(g.b)(null,(function(e){return{storeAuth:function(t){return e(p(t))}}}))((function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),l=a[0],s=a[1],i=Object(n.useState)(""),m=Object(o.a)(i,2),p=m[0],f=m[1],E=Object(n.useState)(!1),b=Object(o.a)(E,2),v=b[0],N=b[1],y=Object(g.c)(),x=function(e,t){var a=document.getElementById(e);a&&(a.innerHTML=t)},w=function(){N(!0),u.a.post("https://yr2yl0lpui.execute-api.us-east-1.amazonaws.com/dev/users/login",{email:l,password:p},{headers:{"x-api-key":"A8x8nBruJt5Obic2pzNdF3AtEzL4QOea6hN13D8A"}}).then((function(t){(function(e){return T.apply(this,arguments)})(t.data.guid).then((function(a){e.storeAuth({authenticated:!0,guid:t.data.guid}),y({type:"LOGIN",payload:a}),setTimeout((function(){P().then((function(e){y(h(e))}))}),5e3)})).catch((function(e){console.log(e),e.response.data.message&&x("showError",'<div class="error-wrapper"><h4>'+e.response.data.message+"</h4></div>"),N(!1)}))})).catch((function(e){console.log(e),e.response.data.message&&x("showError",'<div class="error-wrapper"><h4>'+e.response.data.message+"</h4></div>"),N(!1)}))};return r.a.createElement(d,null,r.a.createElement("form",{className:"login100-form validate-form"},r.a.createElement("span",{className:"login100-form-title p-b-55"},"Sign In"),r.a.createElement("div",{id:"showError"}),r.a.createElement("div",{className:"wrap-input100 m-b-16"},r.a.createElement("input",{className:"input100",type:"text",name:"email",id:"email",placeholder:"Email",value:l,onChange:function(e){return s(e.target.value)}}),r.a.createElement("small",{className:"err-msg",id:"emailError"}),r.a.createElement("span",{className:"focus-input100"}),r.a.createElement("span",{className:"symbol-input100"},r.a.createElement("span",{className:"lnr lnr-envelope"}))),r.a.createElement("div",{className:"wrap-input100 m-b-16"},r.a.createElement("input",{className:"input100",type:"password",name:"pass",id:"pass",placeholder:"Password",value:p,onChange:function(e){return f(e.target.value)}}),r.a.createElement("small",{className:"err-msg",id:"passError"}),r.a.createElement("span",{className:"focus-input100"}),r.a.createElement("span",{className:"symbol-input100"},r.a.createElement("span",{className:"lnr lnr-lock"}))),r.a.createElement("div",{className:"contact100-form-checkbox m-l-4"},r.a.createElement("input",{className:"input-checkbox100",id:"ckb1",type:"checkbox",name:"remember-me"}),r.a.createElement("label",{className:"label-checkbox100",htmlFor:"ckb1"},"Remember me")),r.a.createElement("div",{className:"container-login100-form-btn p-t-25"},r.a.createElement("button",{className:"login100-form-btn",onClick:function(e){return e.preventDefault(),x("emailError",""),x("passError",""),x("showError",""),!!function(){var e=!0,t=new RegExp(/(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*(),.?":{}|<>])/g),a=new RegExp(/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/g);return l.length<1?(x("emailError","Email Address is required"),e=!1):a.test(l)||(x("emailError","Please provide a valid email address"),e=!1),p.length<1?(x("passError","Password is required"),e=!1):t.test(p)||(x("passError","Please provide a valid password"),e=!1),e}()&&w()}},"Login",v?r.a.createElement("span",{id:"loaderSpinner"},r.a.createElement("i",{class:"fa fa-spinner fa-spin"})):null)),r.a.createElement("div",{className:"text-center w-full p-t-50"},r.a.createElement("span",{className:"txt1"},"Not a member?"),r.a.createElement(c.b,{className:"txt1 bo1 hov1",to:"/register"},"Sign up now"))),r.a.createElement("p",{style:{fontSize:8,color:"#c5c5c5"}},"v1"))}));a(100);var M=Object(g.b)(null,(function(e){return{storeAuth:function(t){return e(p(t))},setRegistered:function(t){return e(E(t))}}}))((function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),l=a[0],s=a[1],i=Object(n.useState)(""),m=Object(o.a)(i,2),p=m[0],f=m[1],E=Object(n.useState)(""),h=Object(o.a)(E,2),g=h[0],b=h[1],v=Object(n.useState)(""),N=Object(o.a)(v,2),y=N[0],x=N[1],w=Object(n.useState)(""),O=Object(o.a)(w,2),j=O[0],k=O[1],I=Object(n.useState)(!1),S=Object(o.a)(I,2),P=S[0],A=S[1],T=function(e,t){document.getElementById(e).innerHTML=t},z=function(){A(!0),u.a.post("https://yr2yl0lpui.execute-api.us-east-1.amazonaws.com/dev/users/signup",{firstName:l,lastName:p,email:g,password:y,apiKey:j},{headers:{"x-api-key":"A8x8nBruJt5Obic2pzNdF3AtEzL4QOea6hN13D8A"}}).then((function(t){e.setRegistered({registered:1,showModal:1}),e.storeAuth({authenticated:!0,guid:t.data.guid})})).catch((function(e){e.response.data.message&&T("showError",'<div class="error-wrapper"><h4>'+e.response.data.message+"</h4></div>"),A(!1)}))};return r.a.createElement(d,null,r.a.createElement("form",{className:"login100-form validate-form"},r.a.createElement("span",{className:"login100-form-title p-b-55"},"Create Account"),r.a.createElement("div",{id:"showError"}),r.a.createElement("div",{className:"wrap-input100 m-b-16"},r.a.createElement("input",{className:"input100",type:"text",name:"first_name",id:"first_name",placeholder:"Firstname",value:l,onChange:function(e){return s(e.target.value)}}),r.a.createElement("small",{className:"err-msg",id:"nameError"}),r.a.createElement("span",{className:"focus-input100"}),r.a.createElement("span",{className:"symbol-input100"},r.a.createElement("span",{className:"lnr lnr-user"}))),r.a.createElement("div",{className:"wrap-input100 m-b-16"},r.a.createElement("input",{className:"input100",type:"text",name:"last_name",id:"last_name",placeholder:"Surname",value:p,onChange:function(e){return f(e.target.value)}}),r.a.createElement("small",{className:"err-msg",id:"surnameError"}),r.a.createElement("span",{className:"focus-input100"}),r.a.createElement("span",{className:"symbol-input100"},r.a.createElement("span",{className:"lnr lnr-user"}))),r.a.createElement("div",{className:"wrap-input100 m-b-16"},r.a.createElement("input",{className:"input100",type:"text",name:"email",id:"email",placeholder:"Email",value:g,onChange:function(e){return b(e.target.value)}}),r.a.createElement("small",{className:"err-msg",id:"emailError"}),r.a.createElement("span",{className:"focus-input100"}),r.a.createElement("span",{className:"symbol-input100"},r.a.createElement("span",{className:"lnr lnr-envelope"}))),r.a.createElement("div",{className:"wrap-input100 m-b-16"},r.a.createElement("input",{className:"input100",type:"text",name:"apikey",id:"apikey",placeholder:"Api Key",value:j,onChange:function(e){return k(e.target.value)}}),r.a.createElement("small",{className:"err-msg",id:"apiError"}),r.a.createElement("span",{className:"focus-input100"}),r.a.createElement("span",{className:"symbol-input100"},r.a.createElement("span",{className:"lnr lnr-envelope"}))),r.a.createElement("div",{className:"wrap-input100 m-b-16"},r.a.createElement("input",{className:"input100",type:"password",name:"pass",id:"pass",placeholder:"Password",value:y,onChange:function(e){return x(e.target.value)}}),r.a.createElement("small",{className:"err-msg",id:"passError"}),r.a.createElement("span",{className:"focus-input100"}),r.a.createElement("span",{className:"symbol-input100"},r.a.createElement("span",{className:"lnr lnr-lock"}))),r.a.createElement("div",{className:"contact100-form-checkbox m-l-4"},r.a.createElement("input",{className:"input-checkbox100",id:"ckb1",type:"checkbox",name:"remember-me"}),r.a.createElement("label",{className:"label-checkbox100",htmlFor:"ckb1"},"Remember me")),r.a.createElement("div",{className:"container-login100-form-btn p-t-25"},r.a.createElement("button",{className:"login100-form-btn",onClick:function(e){return e.preventDefault(),T("nameError",""),T("surnameError",""),T("emailError",""),T("passError",""),T("showError",""),!!function(){var e=!0,t=new RegExp(/(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*(),.?":{}|<>])/g),a=new RegExp(/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/g);return l.length<1&&T("nameError","Firstname is required"),p.length<1&&T("surnameError","Surname is required."),g.length<1?(T("emailError","Email Address is required"),e=!1):a.test(g)||(T("emailError","Please provide a valid email address"),e=!1),y.length<1?(T("passError","Password is required"),e=!1):t.test(y)||(T("passError","Please provide a valid password"),e=!1),j.length<1&&T("apiError","Api Key is required."),e}()&&z()}},"Sign Up",P?r.a.createElement("span",{id:"loaderSpinner"},r.a.createElement("i",{class:"fa fa-spinner fa-spin"})):null)),r.a.createElement("div",{className:"text-center w-full p-t-50"},r.a.createElement("span",{className:"txt1"},"Already have an account?"),r.a.createElement(c.b,{className:"txt1 bo1 hov1",to:"/"},"Sign in now"))))})),_=a(17),C=a.n(_),L=a(64),B=a.n(L);var R=Object(i.g)(Object(g.b)(null,(function(e){return{storeAuth:function(t){return e(p(t))},storePageNumber:function(t){return e(f(t))}}}))((function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),l=a[0],s=a[1],c=Object(n.useState)(""),m=Object(o.a)(c,2),u=m[0],d=m[1],p=Object(n.useState)(window.location.pathname.substring(1)),f=Object(o.a)(p,1)[0],E=Object(g.c)(),h=function(e){window.location.pathname!==e&&(d(e),s(!0))};return l?r.a.createElement(i.a,{to:u,push:!0}):r.a.createElement("div",{className:"App"},r.a.createElement(C.a,{style:{position:"fixed"}},r.a.createElement(_.Toggle,null),r.a.createElement(_.Nav,{defaultSelected:f},r.a.createElement(_.NavItem,{eventKey:"dashboard",onClick:function(){return h("/dashboard")}},r.a.createElement(_.NavIcon,null,r.a.createElement("i",{className:"fa fa-fw fa-home",style:{fontSize:"1.25em"}})),r.a.createElement(_.NavText,null,"Dashboard")),r.a.createElement(_.NavItem,{eventKey:"products",onClick:function(){return h("/products")}},r.a.createElement(_.NavIcon,null,r.a.createElement("i",{className:"fas fa-shopping-cart",style:{fontSize:"1.25em"}})),r.a.createElement(_.NavText,null,"Products")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 text-left"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement("div",{className:"col-4 collapse navbar-collapse"},r.a.createElement("button",{className:"navbar-brand",href:"#",style:{marginLeft:"2.5em"}},r.a.createElement("img",{src:B.a,height:"30",className:"d-inline-block align-top",alt:""}),"Pricebeater")),r.a.createElement("span",{className:"col-4 text-center navbar-brand",id:"navTitle"}),r.a.createElement("div",{className:"col-4 nav-item navbar-nav dropdown justify-content-end"},r.a.createElement("button",{className:"nav-link dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Profile"),r.a.createElement("div",{className:"dropdown-menu  dropdown-menu-right","aria-labelledby":"navbarDropdown"},r.a.createElement("button",{className:"dropdown-item"},"Your details"),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement("button",{className:"dropdown-item",onClick:function(){e.storePageNumber(1),e.storeAuth({authenticated:!1,guid:""}),E({type:"LOGOUT"}),E({type:"CLEAR"})}},"Logout")))))),e.children,r.a.createElement("footer",{className:"py-2 bg-secondary text-white"},r.a.createElement("div",{className:"container text-center"},r.a.createElement("small",null,"Copyright \xa9 pricebeater | Version 1.0.1"))))}))),D=function(e){var t=e.handleClose,a=e.show,n=e.children;return r.a.createElement("div",{className:1==a?"modal display-block":"modal display-none"},r.a.createElement("section",{className:"modal-main"},r.a.createElement("div",{className:"container"},n,r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("button",{className:"btn btn-success",onClick:t},"Close")))))},F=function(e){return r.a.createElement("a",{className:"card text-white bg-success mb-3 stretched-link"},r.a.createElement("div",{className:"card-header"},"Winning Offers"),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title counter-total"},e.products.filter((function(e){return e.isWinningBuybox&&"Active"==e.status})).length)))},W=function(e){return r.a.createElement("a",{className:"card text-white bg-danger mb-3 stretched-link"},r.a.createElement("div",{className:"card-header"},"Losing Offers"),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title counter-total"},e.products.filter((function(e){return!e.isWinningBuybox&&"Active"==e.status})).length)))},J=function(e){return r.a.createElement("a",{className:"card text-white bg-info mb-3 stretched-link"},r.a.createElement("div",{className:"card-header"},"Total Offers"),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title counter-total"},e.products.length)))},U=function(e){return r.a.createElement("a",{className:"card text-white bg-primary mb-3 stretched-link"},r.a.createElement("div",{className:"card-header"},"Total Active Offers"),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title counter-total"},e.products.filter((function(e){return"Active"==e.status})).length)))};var G=Object(g.b)((function(e){return{registered:e.registered,showModal:e.showModal}}),(function(e){return{setRegistered:function(t){return e(E(t))}}}))((function(e){var t=Object(n.useState)(e.showModal),a=Object(o.a)(t,2),l=a[0],s=a[1];Object(n.useEffect)((function(){1==e.showModal&&e.setRegistered({registered:e.registered,showModal:0})}),[]);return r.a.createElement(R,null,r.a.createElement(D,{show:l,handleClose:function(){s(0)}},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-10"},r.a.createElement("h2",null,"Welcome!"),r.a.createElement("br",null),r.a.createElement("h3",null,"Your information is being pulled from Takealot. This might take up to 30 minutes."),r.a.createElement("br",null)))))})),V=a(37),H=a(36),Y=a(69),q=a(35),Q=a(12),$=a(24),K=a.n($),X=function(e){Object(V.a)(a,e);var t=Object(H.a)(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).fetchProduct=function(e){if(-1!=e){console.log("Fetching offerId "+e);var t=Object(q.a)(n);u.a.get("https://yr2yl0lpui.execute-api.us-east-1.amazonaws.com/dev/offers/"+e,{headers:{"x-api-key":"A8x8nBruJt5Obic2pzNdF3AtEzL4QOea6hN13D8A"}}).then((function(e){console.log(e.data),"Inactive"==e.data.status?t.setState({product:null,loading:!1}):t.setState({product:new O(e.data),loading:!1})})).catch((function(e){console.log(e)}))}},n.state={loading:!0,product:null,infoMessage:null},n}return Object(x.a)(a,[{key:"componentWillReceiveProps",value:function(e){console.log(e),this.setState({loading:!0}),this.fetchProduct(e.offerId)}},{key:"showMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this;this.setState({infoMessage:{message:e,type:t}}),a&&setTimeout((function(){n.setState({infoMessage:null})}),5e3)}},{key:"getInfoMessage",value:function(){var e=this.state.infoMessage.message,t=this.state.infoMessage.type;this.state.infoMessage.loading;return r.a.createElement("div",{className:"col-8 text-"+t},e)}},{key:"validate",value:function(){var e=K()("#minPrice").val(),t=K()("#preferredPrice").val();return parseInt(e)<1?(this.showMessage("Your minimum price is less than R1. You're not giving it away for free are you?","danger"),!1):parseInt(e)>parseInt(t)?(this.showMessage("Your minimum price can't be more than your preferred price","danger"),!1):parseInt(t)<1?(this.showMessage("Your preferred price is less than R1. You're not giving it away for free are you?","danger"),!1):!(parseInt(e)>parseInt(t))||(this.showMessage("Your preferred price can not be less than your minimum price","danger"),!1)}},{key:"updatePrice",value:function(){if(this.validate()){this.showMessage("Saving...");var e=this,t=K()("#minPrice").val(),a=K()("#preferredPrice").val();u.a.post("https://yr2yl0lpui.execute-api.us-east-1.amazonaws.com/dev/offers/thresholds/update",{offerId:this.state.product.offerId,max:parseFloat(a),min:parseFloat(t),increment:parseInt(1),productId:this.state.product.plid},{headers:{"x-api-key":"A8x8nBruJt5Obic2pzNdF3AtEzL4QOea6hN13D8A"}}).then((function(t){console.log(t),e.showMessage("Saved!")})).catch((function(t){console.log(t),e.showMessage(t.message,"danger")}))}}},{key:"detailsTabPanel",value:function(){return r.a.createElement(Q.c,{style:{padding:"10px"}},r.a.createElement("div",{className:"row",style:{marginBottom:"30px"}},r.a.createElement("div",{className:"col-12"},r.a.createElement("h5",null,"Offer Details:"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement("img",{src:this.state.product.image,className:"img-fluid",style:{width:"400px",marginBottom:"10px",border:"1px solid #d2d1d1"}}),r.a.createElement("h6",null,r.a.createElement("b",null,"Price: R ",this.state.product.currentPrice,".00")),r.a.createElement("a",{className:"btn btn-success",style:{color:"#fff",marginTop:"10px"},href:this.state.product.url,target:"_blank"},"View Offer on Takealot")),r.a.createElement("div",{className:"col-8"},r.a.createElement("h5",null,r.a.createElement("b",null,this.state.product.title)),r.a.createElement("br",null),r.a.createElement("small",null,r.a.createElement("b",null,"Brand: ",this.state.product.brand)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h6",null,r.a.createElement("b",null,"Description:")),r.a.createElement("br",null),r.a.createElement("div",{className:"post__content",dangerouslySetInnerHTML:{__html:this.state.product.description}}))))}},{key:"settingTabPanel",value:function(){var e=this;return r.a.createElement(Q.c,{style:{padding:"10px"}},r.a.createElement("div",{className:"row",style:{marginBottom:"30px"}},r.a.createElement("div",{className:"col-12"},r.a.createElement("h5",null,"Offer Settings:"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-8"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-8"},r.a.createElement("label",{className:"form-label"},"Minimum price"),r.a.createElement("input",{id:"minPrice",type:"number",className:"form-control",defaultValue:this.state.product.minPrice}),r.a.createElement("small",{style:{color:"#ff0000"},id:"minError"}))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-8"},r.a.createElement("label",{className:"form-label"},"Preferred sale Price"),r.a.createElement("input",{id:"preferredPrice",type:"number",className:"form-control",defaultValue:this.state.product.preferredSalePrice}),r.a.createElement("small",{style:{color:"#ff0000"},id:"maxError"}))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-8"},r.a.createElement("a",{className:"btn btn-success",style:{color:"#fff",marginTop:"30px"},onClick:function(){return e.updatePrice()}},"Save"))))))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{class:"modal fade",id:"productDetailsModal",tabindex:"-1",role:"dialog","aria-labelledby":"productDetailsModalLabel","aria-hidden":"true"},r.a.createElement("div",{class:"modal-dialog modal-xl",role:"document"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("div",{class:"modal-header"},r.a.createElement("h5",{class:"modal-title",id:"productDetailsModalLabel"},"Product details"),r.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{class:"modal-body"},r.a.createElement("div",{className:"col-12 text-left"},r.a.createElement("div",{className:"container py-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:this.state.loading?"col-12 text-center":"col-12"},this.state.loading?r.a.createElement("i",{className:"fa fa-spinner fa-spin fa-3x",style:{marginTop:"100px"}}):null!=this.state.product?r.a.createElement(Q.d,null,r.a.createElement(Q.b,null,r.a.createElement(Q.a,null,"Details"),r.a.createElement(Q.a,null,"Settings")),this.detailsTabPanel(),this.settingTabPanel()):r.a.createElement("h3",null,"This offer is inactive.")))))),null!=this.state.infoMessage?r.a.createElement("div",{className:"modal-footer",style:{display:"block"}},r.a.createElement("div",{className:"row justify-content-center"},this.getInfoMessage())):null))))}}]),a}(n.Component),Z=function(e){Object(V.a)(a,e);var t=Object(H.a)(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).state={loading:!1,selectedOfferId:-1,filter:e.filter},n}return Object(x.a)(a,[{key:"didSelectRow",value:function(e){console.log(e),this.setState({selectedOfferId:e.offerId}),K()("#productDetailsModal").modal("show")}},{key:"render",value:function(){var e=this;return null==this.props.products?r.a.createElement("h1",null,"No dice"):r.a.createElement("div",null,r.a.createElement(X,{offerId:this.state.selectedOfferId}),r.a.createElement(Y.c,{entries:20,striped:!0,bordered:!0,hover:!0,data:{columns:[{label:"Title",field:"title",sort:"asc",fixed:!0},{label:"Barcode",field:"barCode",sort:"asc"},{label:"GTIN",field:"gtin",sort:"asc"},{label:"Minimum price",field:"minPrice",sort:"asc"},{label:"Preferred price",field:"preferredSalePrice",sort:"asc"},{label:"Current price",field:"currentPrice",sort:"asc"},{label:"Status",field:"statusControl"},{label:"Auto pricing",field:"autoPricingEnabledControl"},{label:"Takelot link",field:"urlControl"}],rows:this.props.products.map((function(t){return t.clickEvent=function(){return e.didSelectRow(t)},t})).filter((function(t){switch(e.props.filter){case"winning":return"Active"==t.status&&t.isWinningBuybox;case"losing":return"Active"==t.status&&!t.isWinningBuybox;case"active":return"Active"==t.status;case"deactive":return"Active"!=t.status;default:return!0}}))},style:{zIndex:999999}}))}}]),a}(r.a.Component),ee=Object(g.b)((function(e){return{guid:e.auth.user.guid,products:e.products.map((function(e){var t=Object.assign([],e);return t.autoPricingEnabledControl=r.a.createElement("div",{class:"custom-control custom-switch"},r.a.createElement("input",{type:"checkbox",class:"custom-control-input",name:e.offerId+"_autoPricingSwitch",id:e.offerId+"_autoPricingSwitch",disabled:"Active"!=e.status,onChange:function(){new O(e).toggleAutoPricing()}}),r.a.createElement("label",{class:"custom-control-label",for:e.offerId+"_autoPricingSwitch"})),t.statusControl=r.a.createElement("span",{style:"Active"==e.status?e.isWinningBuybox?{color:"#009900"}:{color:"#ff0000"}:{}},"Active"==e.status?e.isWinningBuybox?"Winning":"Losing":"Disabled"),t.urlControl=r.a.createElement("a",{href:e.url,target:"_blank"},"View Offer"),t}))}}))(Z);var te=Object(i.g)(Object(g.b)((function(e){return{registered:e.global.registered,showModal:e.global.showModal,products:e.products}}),(function(e){return{storePageNumber:function(t){return e(f(t))},setRegistered:function(t){return e(E(t))}}}))((function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),l=a[0],s=(a[1],Object(n.useState)("")),c=Object(o.a)(s,2),m=c[0],u=(c[1],Object(n.useState)(null)),d=Object(o.a)(u,2),p=d[0],f=d[1];Object(g.c)();return l?r.a.createElement(i.a,{to:m,push:!0}):r.a.createElement(R,null,r.a.createElement("div",{className:"row justify-content-center",style:{paddingTop:"30px"}},r.a.createElement("div",{className:"col-10"},r.a.createElement("div",{className:"py-4"},r.a.createElement("div",{class:"card-deck"},r.a.createElement("div",{class:"card border-0",onClick:function(){f(null)}},r.a.createElement(J,{products:e.products})),r.a.createElement("div",{class:"card border-0",onClick:function(){f("active")}},r.a.createElement(U,{products:e.products})),r.a.createElement("div",{class:"card border-0",onClick:function(){f("winning")}},r.a.createElement(F,{products:e.products})),r.a.createElement("div",{class:"card border-0",onClick:function(){f("losing")}},r.a.createElement(W,{products:e.products})))),r.a.createElement("div",{className:"shadow rounded p-5 mb-5"},r.a.createElement(ee,{products:e.products,filter:p,didSelectItem:function(e){"/product/".concat(e.offerId)}})))),r.a.createElement("div",{style:{height:"50px"}}))}))),ae=function(e){var t=Object(n.useState)(),a=Object(o.a)(t,2),l=a[0],s=a[1],c=Object(n.useState)(!0),i=Object(o.a)(c,2),m=i[0],d=i[1],p=Object(n.useState)([]),f=Object(o.a)(p,2),E=f[0],h=f[1],g=Object(n.useState)(0),b=Object(o.a)(g,2),v=b[0],N=b[1],y=Object(n.useState)(0),x=Object(o.a)(y,2),w=x[0],O=x[1],j=Object(n.useState)(1),k=Object(o.a)(j,2),I=k[0],S=k[1],P=Object(n.useState)(!1),A=Object(o.a)(P,2),T=A[0],z=A[1],M=Object(n.useState)(!1),_=Object(o.a)(M,2),C=_[0],L=_[1],B=Object(n.useState)({min:{error:!1,message:""},max:{error:!1,message:""},increment:{error:!1,message:""}}),R=Object(o.a)(B,1)[0],D=Object(n.useState)(R),F=Object(o.a)(D,2),W=F[0],J=F[1];Object(n.useEffect)((function(){-1!=e.offerId&&u.a.get("https://yr2yl0lpui.execute-api.us-east-1.amazonaws.com/dev/offers/"+e.offerId,{headers:{"x-api-key":"A8x8nBruJt5Obic2pzNdF3AtEzL4QOea6hN13D8A"}}).then((function(e){"Active"==e.data.status?s(!0):s(!1),d(!1);var t=e.data.image;null!==e.data.minPrice&&N(e.data.minPrice),null!==e.data.maxPrice&&O(e.data.maxPrice),null!==e.data.increment&&S(e.data.increment),h({title:e.data.offerTitle,price:e.data.currentPrice,description:e.data.description,image:e.data.image?t.replace("{size}","full"):"",brand:e.data.brand,offerId:e.data.offerId,id:e.data.productLineId,url:e.data.url}),U("description",e.data.description)})).catch((function(e){console.log(e)}))}),[]);for(var U=function(e,t){var a=document.getElementById(e);a&&(a.innerHTML=t)},G=function(){return U("incrementError",""),U("maxError",""),U("minError",""),!!function(){var e=R,t=!0;return console.log(e),console.log(v,w),parseInt(v)<1?(U("minError","Please provide a valid minimum value"),t=!1):parseInt(v)>parseInt(w)&&(U("minError","The minimum value can not be more than the maximum value"),t=!1),parseInt(w)<1?(U("maxError","Please provide a valid maximum value"),t=!1):parseInt(v)>parseInt(w)&&(U("maxError","The maximum value can not be less than the minimum value"),t=!1),parseInt(I)<1&&(U("incrementError","Please provide a valid increment value"),t=!1),J(e),console.log(W),t}()&&V()},V=function(){L(!0),z(!1);u.a.post("https://yr2yl0lpui.execute-api.us-east-1.amazonaws.com/dev/offers/thresholds/update",{offerId:E.offerId,max:parseFloat(w),min:parseFloat(v),increment:parseInt(I),productId:E.id},{headers:{"x-api-key":"A8x8nBruJt5Obic2pzNdF3AtEzL4QOea6hN13D8A"}}).then((function(e){console.log(e),z(!0)})).catch((function(e){console.log(e)})).finally((function(){L(!1)}))},H=[],Y=0;Y<4;Y++)H.push({id:Y,datetime:"15 minutes ago",reviewer:"Maniruzzaman Akash",message:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum."}),H.push({id:Y,datetime:"2 hours ago",reviewer:"Vincent van Wyk",message:"There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable. If you are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in the middle of text. All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary, making this the first true generator on the Internet. It uses a dictionary of over 200 Latin words, combined with a handful of model sentence structures, to generate Lorem Ipsum which looks reasonable. The generated Lorem Ipsum is therefore always free from repetition, injected humour, or non-characteristic words etc."});H.map((function(e){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("img",{src:"https://image.ibb.co/jw55Ex/def_face.jpg",className:"img img-rounded img-fluid"}),r.a.createElement("p",{className:"text-secondary text-center"},e.datetime)),r.a.createElement("div",{className:"col-md-10"},r.a.createElement("p",null,r.a.createElement("a",{className:"float-left",href:"https://maniruzzaman-akash.blogspot.com/p/contact.html"},r.a.createElement("strong",null,e.reviewer)),r.a.createElement("span",{className:"float-right"},r.a.createElement("i",{className:"text-warning fa fa-star"})),r.a.createElement("span",{className:"float-right"},r.a.createElement("i",{className:"text-warning fa fa-star"})),r.a.createElement("span",{className:"float-right"},r.a.createElement("i",{className:"text-warning fa fa-star"})),r.a.createElement("span",{className:"float-right"},r.a.createElement("i",{className:"text-warning fa fa-star"}))),r.a.createElement("div",{className:"clearfix"}),r.a.createElement("br",null),r.a.createElement("p",{style:{fontSize:"0.8em"}},e.message)))}));return r.a.createElement("div",{className:"row"},r.a.createElement("h1",null,e.offerId),r.a.createElement("div",{className:"col-12 text-left"},r.a.createElement("div",{className:"container py-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:m?"col-12 text-center":"col-12"},m?r.a.createElement("i",{className:"fa fa-spinner fa-spin fa-3x",style:{marginTop:"100px"}}):l?r.a.createElement(Q.d,{style:{marginBottom:"150px"}},r.a.createElement(Q.b,null,r.a.createElement(Q.a,null,"Details"),r.a.createElement(Q.a,null,r.a.createElement("i",{className:"fa fa-cogg"}),"Settings")),r.a.createElement(Q.c,{style:{padding:"10px"}},r.a.createElement("div",{className:"row",style:{marginBottom:"30px"}},r.a.createElement("div",{className:"col-12"},r.a.createElement("h5",null,"Offer Details:"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement("img",{src:E.image,className:"img-fluid",style:{width:"400px",marginBottom:"10px",border:"1px solid #d2d1d1"}}),r.a.createElement("h6",null,r.a.createElement("b",null,"Price: R ",E.price,".00")),r.a.createElement("a",{className:"btn btn-success",style:{color:"#fff",marginTop:"10px"},href:E.url,target:"_blank"},"View Offer on Takealot")),r.a.createElement("div",{className:"col-8"},r.a.createElement("h5",null,r.a.createElement("b",null,E.title)),r.a.createElement("br",null),r.a.createElement("small",null,r.a.createElement("b",null,"Brand: ",E.brand)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h6",null,r.a.createElement("b",null,"Description:")),r.a.createElement("br",null),r.a.createElement("div",{className:"post__content",dangerouslySetInnerHTML:{__html:E.description}})))),r.a.createElement(Q.c,{style:{padding:"10px"}},r.a.createElement("div",{className:"row",style:{marginBottom:"30px"}},r.a.createElement("div",{className:"col-12"},r.a.createElement("h5",null,"Offer Settings:"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-8"},T?r.a.createElement("div",{className:"row justify-content-center offer-message"},r.a.createElement("div",{className:"col-8"},"Offer updated successfully")):null,r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-8"},r.a.createElement("label",{className:"form-label"},"Minimum Value"),r.a.createElement("input",{type:"number",className:"form-control",value:v,onChange:function(e){return N(e.target.value)}}),r.a.createElement("small",{style:{color:"#ff0000"},id:"minError"}))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-8"},r.a.createElement("label",{className:"form-label"},"Maximum value"),r.a.createElement("input",{type:"number",className:"form-control",value:w,onChange:function(e){return O(e.target.value)}}),r.a.createElement("small",{style:{color:"#ff0000"},id:"maxError"}))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-8"},r.a.createElement("a",{className:"btn btn-success",style:{color:"#fff",marginTop:"30px"},onClick:function(){return G()}},"Save",C?r.a.createElement("i",{className:"fa fa-spinner fa-spin",style:{marginLeft:"5px"}}):null))))))):r.a.createElement("h3",null,"Offer is no longer valid"))))))},ne=function(){return r.a.createElement(R,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 text-left"},r.a.createElement("div",{className:"container py-4"},r.a.createElement("h4",null,"Whoops, the page you are looking for does not exist!")))))},re=a(48),le=function(e){var t=e.component,a=e.authenticated,n=Object(re.a)(e,["component","authenticated"]);return r.a.createElement(i.b,Object.assign({render:function(e){return a?r.a.createElement(i.a,{to:"/dashboard",push:!0}):r.a.createElement(t,e)}},n))},se=function(e){var t=e.component,a=e.authenticated,n=Object(re.a)(e,["component","authenticated"]);return r.a.createElement(i.b,Object.assign({render:function(e){return a?r.a.createElement(t,e):r.a.createElement(i.a,{to:"/",push:!0})}},n))};var ce=Object(g.b)((function(e){return{authenticated:e.global.authenticated}}))((function(e){return r.a.createElement(c.a,null,r.a.createElement(i.d,null,r.a.createElement(se,{exact:!0,path:"/products",component:te,authenticated:e.authenticated}),r.a.createElement(se,{exact:!0,path:"/product/:id",component:ae,authenticated:e.authenticated}),r.a.createElement(se,{exact:!0,path:"/dashboard",component:G,authenticated:e.authenticated}),r.a.createElement(le,{exact:!0,path:"/",component:z,authenticated:e.authenticated}),r.a.createElement(le,{exact:!0,path:"/register",component:M,authenticated:e.authenticated}),r.a.createElement(i.b,{path:"*",component:ne})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ie=a(28),oe={authenticated:!1,guid:"",user:null,pageNumber:1,registered:0,showModal:0},me=Object(ie.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object.assign({},e,{user:t.payload});case"LOGOUT":return{};case"IS_AUTHENTICATED":return null!=e.user;default:return e}},global:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;return"STORE_AUTH"===t.type?Object.assign({},e,{authenticated:t.payload.authenticated,guid:t.payload.guid,user:t.payload.user}):"STORE_PAGE_NUMBER"===t.type?Object.assign({},e,{pageNumber:t.payload}):"SET_REGISTERED"===t.type?Object.assign({},e,{registered:t.payload.registered,showModal:t.payload.showModal}):e},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET":return t.payload;case"CLEAR":return[];default:return e}}}),ue=oe;try{null===(ue=window.localStorage.getItem("price.beater"))&&(ue=oe),ue=JSON.parse(ue)}catch(Ee){ue=oe}var de=Object(ie.c)(me,ue,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());window.store=de;var pe=window.localStorage;window.store.subscribe((function(){fe(de.getState())}));var fe=function(e){try{var t=JSON.stringify(e);pe.setItem("price.beater",t)}catch(Ee){console.log(Ee)}};s.a.render(r.a.createElement(g.a,{store:de},r.a.createElement(ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},27:function(e,t,a){},64:function(e,t,a){e.exports=a.p+"static/media/logo.7f594ed9.png"},70:function(e,t,a){e.exports=a(123)},75:function(e,t,a){},93:function(e,t,a){}},[[70,1,2]]]);
//# sourceMappingURL=main.4b197fbf.chunk.js.map