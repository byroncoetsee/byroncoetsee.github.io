(this["webpackJsonpprice-beater.fluenty.co.za"]=this["webpackJsonpprice-beater.fluenty.co.za"]||[]).push([[0],{19:function(e,t,a){},48:function(e,t,a){e.exports=a.p+"static/media/logo.7f594ed9.png"},49:function(e,t,a){e.exports=a(86)},54:function(e,t,a){},73:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),l=a.n(c),s=(a(54),a(9)),o=a(7),i=(a(22),a(18),a(19),a(23),a(1)),m=a(10),u=a.n(m),d=(a(71),a(73),function(e){return r.a.createElement("div",{className:"limiter"},r.a.createElement("div",{className:"container-login100"},r.a.createElement("div",{className:"wrap-login100 p-l-50 p-r-50 p-t-77 p-b-30"},e.children)))}),p=function(e){return{type:"STORE_AUTH",payload:e}},f=function(e){return{type:"STORE_PAGE_NUMBER",payload:e}},E=function(e){return{type:"SET_REGISTERED",payload:e}},h=a(5),g=a(15),b=a.n(g),v=a(21),x=a(27),N=a(28),y={get latest(){return JSON.parse(window.localStorage.getItem("price.beater")).user.sellerId}},w=function(){function e(t){Object(x.a)(this,e),this.title=t.title,this.currentPrice=t.currentPrice,this.rrp=t.rrp,this.offerId=t.offerId,this.gtin=t.gtin,this.url=t.productTakealotURL,this.status=t.status,this.barCode=t.mpBarcode,this.minPrice=t.minPrice,this.preferredSalePrice=t.maxPrice,this.increment=t.increment,this.brand=t.brand,this.buybox=t.buyBox,this.plid=t.productLineId,this.currentSellerId=t.currentSellerId,this.autoPricingEnabled=!1,this.isWinningBuybox=this.currentSellerId==y.latest}return Object(N.a)(e,[{key:"toggleAutoPricing",value:function(){this.autoPricingEnabled=!this.autoPricingEnabled,console.log("Toggled")}}]),e}(),O=function(){function e(t){Object(x.a)(this,e),this.id=t.id,this.guid=t.guid,this.firstName=t.firstName,this.lastName=t.lastName,this.sellerId=t.sellerId,this.email=t.email,this.apikey=t.apikey}return Object(N.a)(e,null,[{key:"mock",value:function(){return new e({id:23,guid:"1d10f499-d4a9-4a7e-bc8d-c26b31f74291",firstName:"Byron",lastName:"Coetsee",sellerId:"9760",email:"byroncoetsee@gmail.com",apikey:"1234567890",createdAt:"2020-04-02T16:28:45",updatedAt:"2020-04-02T16:28:45",deletedAt:null})}}]),e}(),j="https://yr2yl0lpui.execute-api.us-east-1.amazonaws.com/dev",k="https://5habbbbms2.execute-api.us-east-1.amazonaws.com/dev",S="A8x8nBruJt5Obic2pzNdF3AtEzL4QOea6hN13D8A",I={get latest(){return JSON.parse(window.localStorage.getItem("price.beater")).user.guid}};function P(e){return C.apply(this,arguments)}function C(){return(C=Object(v.a)(b.a.mark((function e(t){var a,n,r,c,l,s,o=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:10,n=o.length>2&&void 0!==o[2]?o[2]:1,r=o.length>3&&void 0!==o[3]?o[3]:"",c=o.length>4&&void 0!==o[4]?o[4]:"",e.prev=4,e.next=7,u.a.get(j+"/offers/all/"+t+"?items="+a+"&page="+n+r+c,{headers:{"x-api-key":S}});case 7:return l=e.sent,s=[],l.data.offers.map((function(e,t){s.push(new w(e))})),e.abrupt("return",s);case 13:return e.prev=13,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[4,13]])})))).apply(this,arguments)}function z(e){return A.apply(this,arguments)}function A(){return(A=Object(v.a)(b.a.mark((function e(t){var a,n,r,c,l,s,o=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:10,n=o.length>2&&void 0!==o[2]?o[2]:1,r=o.length>3&&void 0!==o[3]?o[3]:"",c=o.length>4&&void 0!==o[4]?o[4]:"",e.prev=4,e.next=7,u.a.get(j+"/offers/fetch/"+t+"?items="+a+"&page="+n+r+c,{headers:{"x-api-key":S}});case 7:return l=e.sent,s=[],l.data.offers.map((function(e,t){s.push(new w(e))})),e.abrupt("return",s);case 13:return e.prev=13,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[4,13]])})))).apply(this,arguments)}function T(e,t){return L.apply(this,arguments)}function L(){return(L=Object(v.a)(b.a.mark((function e(t,a){var n,r,c,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!=I.latest){e.next=3;break}return e.abrupt("return",null);case 3:return n=null!=t?"&buyboxStatus="+t:"",r=null!=a?"&tatus="+a:"",e.next=7,u.a.get(j+"/offers/buyboxstatus?guid="+I.latest+n+r,{headers:{"x-api-key":S}});case 7:return c=e.sent,l=[],c.data.map((function(e,t){l.push(new w(e))})),e.abrupt("return",l);case 13:return e.prev=13,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function B(){return(B=Object(v.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!=t){e.next=4;break}return console.log("No GUID provided to 'whoami'"),e.abrupt("return",null);case 4:return e.next=6,u.a.get(k+"/whoami?guid="+t,{headers:{"x-api-key":S}});case 6:return a=e.sent,e.abrupt("return",new O(a.data[0]));case 10:return e.prev=10,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var _=Object(h.b)(null,(function(e){return{storeAuth:function(t){return e(p(t))}}}))((function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(""),m=Object(i.a)(o,2),p=m[0],f=m[1],E=Object(n.useState)(!1),h=Object(i.a)(E,2),g=h[0],b=h[1],v=function(e,t){var a=document.getElementById(e);a&&(a.innerHTML=t)},x=function(){b(!0),u.a.post("https://yr2yl0lpui.execute-api.us-east-1.amazonaws.com/dev/users/login",{email:c,password:p},{headers:{"x-api-key":"A8x8nBruJt5Obic2pzNdF3AtEzL4QOea6hN13D8A"}}).then((function(t){(function(e){return B.apply(this,arguments)})(t.data.guid).then((function(a){e.storeAuth({authenticated:!0,guid:t.data.guid,user:a})})).catch((function(e){console.log(e),e.response.data.message&&v("showError",'<div class="error-wrapper"><h4>'+e.response.data.message+"</h4></div>"),b(!1)}))})).catch((function(e){console.log(e),e.response.data.message&&v("showError",'<div class="error-wrapper"><h4>'+e.response.data.message+"</h4></div>"),b(!1)}))};return r.a.createElement(d,null,r.a.createElement("form",{className:"login100-form validate-form"},r.a.createElement("span",{className:"login100-form-title p-b-55"},"Sign In"),r.a.createElement("div",{id:"showError"}),r.a.createElement("div",{className:"wrap-input100 m-b-16"},r.a.createElement("input",{className:"input100",type:"text",name:"email",id:"email",placeholder:"Email",value:c,onChange:function(e){return l(e.target.value)}}),r.a.createElement("small",{className:"err-msg",id:"emailError"}),r.a.createElement("span",{className:"focus-input100"}),r.a.createElement("span",{className:"symbol-input100"},r.a.createElement("span",{className:"lnr lnr-envelope"}))),r.a.createElement("div",{className:"wrap-input100 m-b-16"},r.a.createElement("input",{className:"input100",type:"password",name:"pass",id:"pass",placeholder:"Password",value:p,onChange:function(e){return f(e.target.value)}}),r.a.createElement("small",{className:"err-msg",id:"passError"}),r.a.createElement("span",{className:"focus-input100"}),r.a.createElement("span",{className:"symbol-input100"},r.a.createElement("span",{className:"lnr lnr-lock"}))),r.a.createElement("div",{className:"contact100-form-checkbox m-l-4"},r.a.createElement("input",{className:"input-checkbox100",id:"ckb1",type:"checkbox",name:"remember-me"}),r.a.createElement("label",{className:"label-checkbox100",htmlFor:"ckb1"},"Remember me")),r.a.createElement("div",{className:"container-login100-form-btn p-t-25"},r.a.createElement("button",{className:"login100-form-btn",onClick:function(e){return e.preventDefault(),v("emailError",""),v("passError",""),v("showError",""),!!function(){var e=!0,t=new RegExp(/(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*(),.?":{}|<>])/g),a=new RegExp(/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/g);return c.length<1?(v("emailError","Email Address is required"),e=!1):a.test(c)||(v("emailError","Please provide a valid email address"),e=!1),p.length<1?(v("passError","Password is required"),e=!1):t.test(p)||(v("passError","Please provide a valid password"),e=!1),e}()&&x()}},"Login",g?r.a.createElement("span",{id:"loaderSpinner"},r.a.createElement("i",{class:"fa fa-spinner fa-spin"})):null)),r.a.createElement("div",{className:"text-center w-full p-t-50"},r.a.createElement("span",{className:"txt1"},"Not a member?"),r.a.createElement(s.b,{className:"txt1 bo1 hov1",to:"/register"},"Sign up now"))),r.a.createElement("p",{style:{fontSize:8,color:"#c5c5c5"}},"v1"))}));a(80);var R=Object(h.b)(null,(function(e){return{storeAuth:function(t){return e(p(t))},setRegistered:function(t){return e(E(t))}}}))((function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(""),m=Object(i.a)(o,2),p=m[0],f=m[1],E=Object(n.useState)(""),h=Object(i.a)(E,2),g=h[0],b=h[1],v=Object(n.useState)(""),x=Object(i.a)(v,2),N=x[0],y=x[1],w=Object(n.useState)(""),O=Object(i.a)(w,2),j=O[0],k=O[1],S=Object(n.useState)(!1),I=Object(i.a)(S,2),P=I[0],C=I[1],z=function(e,t){document.getElementById(e).innerHTML=t},A=function(){C(!0),u.a.post("https://yr2yl0lpui.execute-api.us-east-1.amazonaws.com/dev/users/signup",{firstName:c,lastName:p,email:g,password:N,apiKey:j},{headers:{"x-api-key":"A8x8nBruJt5Obic2pzNdF3AtEzL4QOea6hN13D8A"}}).then((function(t){e.setRegistered({registered:1,showModal:1}),e.storeAuth({authenticated:!0,guid:t.data.guid})})).catch((function(e){e.response.data.message&&z("showError",'<div class="error-wrapper"><h4>'+e.response.data.message+"</h4></div>"),C(!1)}))};return r.a.createElement(d,null,r.a.createElement("form",{className:"login100-form validate-form"},r.a.createElement("span",{className:"login100-form-title p-b-55"},"Create Account"),r.a.createElement("div",{id:"showError"}),r.a.createElement("div",{className:"wrap-input100 m-b-16"},r.a.createElement("input",{className:"input100",type:"text",name:"first_name",id:"first_name",placeholder:"Firstname",value:c,onChange:function(e){return l(e.target.value)}}),r.a.createElement("small",{className:"err-msg",id:"nameError"}),r.a.createElement("span",{className:"focus-input100"}),r.a.createElement("span",{className:"symbol-input100"},r.a.createElement("span",{className:"lnr lnr-user"}))),r.a.createElement("div",{className:"wrap-input100 m-b-16"},r.a.createElement("input",{className:"input100",type:"text",name:"last_name",id:"last_name",placeholder:"Surname",value:p,onChange:function(e){return f(e.target.value)}}),r.a.createElement("small",{className:"err-msg",id:"surnameError"}),r.a.createElement("span",{className:"focus-input100"}),r.a.createElement("span",{className:"symbol-input100"},r.a.createElement("span",{className:"lnr lnr-user"}))),r.a.createElement("div",{className:"wrap-input100 m-b-16"},r.a.createElement("input",{className:"input100",type:"text",name:"email",id:"email",placeholder:"Email",value:g,onChange:function(e){return b(e.target.value)}}),r.a.createElement("small",{className:"err-msg",id:"emailError"}),r.a.createElement("span",{className:"focus-input100"}),r.a.createElement("span",{className:"symbol-input100"},r.a.createElement("span",{className:"lnr lnr-envelope"}))),r.a.createElement("div",{className:"wrap-input100 m-b-16"},r.a.createElement("input",{className:"input100",type:"text",name:"apikey",id:"apikey",placeholder:"Api Key",value:j,onChange:function(e){return k(e.target.value)}}),r.a.createElement("small",{className:"err-msg",id:"apiError"}),r.a.createElement("span",{className:"focus-input100"}),r.a.createElement("span",{className:"symbol-input100"},r.a.createElement("span",{className:"lnr lnr-envelope"}))),r.a.createElement("div",{className:"wrap-input100 m-b-16"},r.a.createElement("input",{className:"input100",type:"password",name:"pass",id:"pass",placeholder:"Password",value:N,onChange:function(e){return y(e.target.value)}}),r.a.createElement("small",{className:"err-msg",id:"passError"}),r.a.createElement("span",{className:"focus-input100"}),r.a.createElement("span",{className:"symbol-input100"},r.a.createElement("span",{className:"lnr lnr-lock"}))),r.a.createElement("div",{className:"contact100-form-checkbox m-l-4"},r.a.createElement("input",{className:"input-checkbox100",id:"ckb1",type:"checkbox",name:"remember-me"}),r.a.createElement("label",{className:"label-checkbox100",htmlFor:"ckb1"},"Remember me")),r.a.createElement("div",{className:"container-login100-form-btn p-t-25"},r.a.createElement("button",{className:"login100-form-btn",onClick:function(e){return e.preventDefault(),z("nameError",""),z("surnameError",""),z("emailError",""),z("passError",""),z("showError",""),!!function(){var e=!0,t=new RegExp(/(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*(),.?":{}|<>])/g),a=new RegExp(/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/g);return c.length<1&&z("nameError","Firstname is required"),p.length<1&&z("surnameError","Surname is required."),g.length<1?(z("emailError","Email Address is required"),e=!1):a.test(g)||(z("emailError","Please provide a valid email address"),e=!1),N.length<1?(z("passError","Password is required"),e=!1):t.test(N)||(z("passError","Please provide a valid password"),e=!1),j.length<1&&z("apiError","Api Key is required."),e}()&&A()}},"Sign Up",P?r.a.createElement("span",{id:"loaderSpinner"},r.a.createElement("i",{class:"fa fa-spinner fa-spin"})):null)),r.a.createElement("div",{className:"text-center w-full p-t-50"},r.a.createElement("span",{className:"txt1"},"Already have an account?"),r.a.createElement(s.b,{className:"txt1 bo1 hov1",to:"/"},"Sign in now"))))})),M=a(13),D=a.n(M),F=a(48),J=a.n(F);var W=Object(o.g)(Object(h.b)(null,(function(e){return{storeAuth:function(t){return e(p(t))},storePageNumber:function(t){return e(f(t))}}}))((function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(""),m=Object(i.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)(window.location.pathname.substring(1)),f=Object(i.a)(p,1)[0],E=function(e){window.location.pathname!==e&&(d(e),l(!0))};return c?r.a.createElement(o.a,{to:u,push:!0}):r.a.createElement("div",{className:"App"},r.a.createElement(D.a,{style:{position:"fixed"}},r.a.createElement(M.Toggle,null),r.a.createElement(M.Nav,{defaultSelected:f},r.a.createElement(M.NavItem,{eventKey:"dashboard",onClick:function(){return E("/dashboard")}},r.a.createElement(M.NavIcon,null,r.a.createElement("i",{className:"fa fa-fw fa-home",style:{fontSize:"1.25em"}})),r.a.createElement(M.NavText,null,"Dashboard")),r.a.createElement(M.NavItem,{eventKey:"products",onClick:function(){return E("/products")}},r.a.createElement(M.NavIcon,null,r.a.createElement("i",{className:"fas fa-shopping-cart",style:{fontSize:"1.25em"}})),r.a.createElement(M.NavText,null,"Products")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 text-left"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement("div",{className:"col-4 collapse navbar-collapse"},r.a.createElement("button",{className:"navbar-brand",href:"#",style:{marginLeft:"2.5em"}},r.a.createElement("img",{src:J.a,height:"30",className:"d-inline-block align-top",alt:""}),"Pricebeater")),r.a.createElement("span",{className:"col-4 text-center navbar-brand",id:"navTitle"}),r.a.createElement("div",{className:"col-4 nav-item navbar-nav dropdown justify-content-end"},r.a.createElement("button",{className:"nav-link dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Profile"),r.a.createElement("div",{className:"dropdown-menu  dropdown-menu-right","aria-labelledby":"navbarDropdown"},r.a.createElement("button",{className:"dropdown-item"},"Your details"),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement("button",{className:"dropdown-item",onClick:function(){e.storePageNumber(1),e.storeAuth({authenticated:!1,guid:""})}},"Logout")))))),e.children,r.a.createElement("footer",{className:"py-2 bg-secondary text-white"},r.a.createElement("div",{className:"container text-center"},r.a.createElement("small",null,"Copyright \xa9 pricebeater | Version 1.0.1"))))}))),$=function(e){var t=e.handleClose,a=e.show,n=e.children;return r.a.createElement("div",{className:1==a?"modal display-block":"modal display-none"},r.a.createElement("section",{className:"modal-main"},r.a.createElement("div",{className:"container"},n,r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("button",{className:"btn btn-success",onClick:t},"Close")))))},U=function(){var e=Object(n.useState)("--"),t=Object(i.a)(e,2),a=t[0],c=t[1];return T("winning").then((function(e){c(e.length)})).catch((function(e){return e})),r.a.createElement("a",{class:"card text-white bg-success mb-3 stretched-link"},r.a.createElement("div",{class:"card-header"},"Winning Offers"),r.a.createElement("div",{class:"card-body"},r.a.createElement("h5",{class:"card-title counter-total"},a)))},q=function(){var e=Object(n.useState)("--"),t=Object(i.a)(e,2),a=t[0],c=t[1];return T("losing").then((function(e){c(e.length)})).catch((function(e){return e})),r.a.createElement("a",{class:"card text-white bg-danger mb-3 stretched-link"},r.a.createElement("div",{class:"card-header"},"Losing Offers"),r.a.createElement("div",{class:"card-body"},r.a.createElement("h5",{class:"card-title counter-total"},a)))},G=function(){var e=Object(n.useState)("--"),t=Object(i.a)(e,2),a=t[0],c=t[1];return T().then((function(e){c(e.length)})).catch((function(e){return e})),r.a.createElement("a",{class:"card text-white bg-info mb-3 stretched-link"},r.a.createElement("div",{class:"card-header"},"Total Offers"),r.a.createElement("div",{class:"card-body"},r.a.createElement("h5",{class:"card-title counter-total"},a)))},V=function(){var e=Object(n.useState)("--"),t=Object(i.a)(e,2),a=t[0],c=t[1];return T("active").then((function(e){c(e.length)})).catch((function(e){return e})),r.a.createElement("a",{class:"card text-white bg-primary mb-3 stretched-link"},r.a.createElement("div",{class:"card-header"},"Total Active Offers"),r.a.createElement("div",{class:"card-body"},r.a.createElement("h5",{class:"card-title counter-total"},a)))};var H=Object(h.b)((function(e){return{registered:e.registered,showModal:e.showModal}}),(function(e){return{setRegistered:function(t){return e(E(t))}}}))((function(e){var t=Object(n.useState)(e.showModal),a=Object(i.a)(t,2),c=a[0],l=a[1];Object(n.useEffect)((function(){1==e.showModal&&e.setRegistered({registered:e.registered,showModal:0})}),[]);return r.a.createElement(W,null,r.a.createElement($,{show:c,handleClose:function(){l(0)}},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-10"},r.a.createElement("h2",null,"Welcome!"),r.a.createElement("br",null),r.a.createElement("h3",null,"Your information is being pulled from Takealot. This might take up to 30 minutes."),r.a.createElement("br",null)))))}));var K=Object(o.g)(Object(h.b)((function(e){return{guid:e.guid,pageNumber:e.pageNumber,registered:e.registered,showModal:e.showModal}}),(function(e){return{storePageNumber:function(t){return e(f(t))},setRegistered:function(t){return e(E(t))}}}))((function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(!0),m=Object(i.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)(e.pageNumber),f=Object(i.a)(p,2),E=f[0],h=f[1],g=Object(n.useState)(10),b=Object(i.a)(g,2),v=b[0],x=b[1],N=Object(n.useState)(""),y=Object(i.a)(N,2),w=y[0],O=y[1],j=Object(n.useState)("title"),k=Object(i.a)(j,2),S=k[0],I=k[1],C=Object(n.useState)(""),A=Object(i.a)(C,2),L=A[0],B=A[1],_=Object(n.useState)("asc"),R=Object(i.a)(_,2),M=R[0],D=R[1],F=Object(n.useState)(""),J=Object(i.a)(F,2),$=J[0],H=J[1],K=Object(n.useState)(""),Q=Object(i.a)(K,2),X=Q[0],Y=Q[1],Z=Object(n.useState)(!1),ee=Object(i.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(""),re=Object(i.a)(ne,2),ce=re[0],le=re[1],se=Object(n.useState)(""),oe=Object(i.a)(se,2),ie=(oe[0],oe[1],Object(n.useState)("")),me=Object(i.a)(ie,2),ue=(me[0],me[1],function(t){var a="";""==M&&(D("asc"),a="&orderBy="+t+"&sortBy=asc"),"asc"==M&&(D("desc"),a="&orderBy="+t+"&sortBy=desc"),"desc"==M&&(D(""),a+=""),Y(a),B(t),console.log(a),d(!0),P(e.guid,v,E,$,a).then((function(e){l(e),d(!1)})).catch((function(e){console.log(e)}))});Object(n.useEffect)((function(){var t;1===e.registered?(t=z(e.guid,v,E),e.setRegistered({registered:0,showModal:e.showModal})):t=P(e.guid,v,E),t.then((function(e){l(e),d(!1)})).catch((function(e){console.log(e)}))}),[]);var de=function(e){d(!0),Y("&orderBy=buyBox&sortBy="+("winning"==e?"desc":"asc")),B("buyBox"),T(e).then((function(e){l(e),d(!1)})).catch((function(e){console.log(e)}))},pe=function(e){window.location.pathname!==e&&(le(e),ae(!0))};return te?r.a.createElement(o.a,{to:ce,push:!0}):r.a.createElement(W,null,r.a.createElement("div",{className:"row justify-content-center",style:{paddingTop:"30px"}},r.a.createElement("div",{className:"col-10"},r.a.createElement("div",{className:"py-4"},r.a.createElement("div",{class:"card-deck"},r.a.createElement("a",{class:"card border-0",onClick:function(){d(!0),P(e.guid,v,E,$,X).then((function(e){d(!1),l(e)})).catch((function(e){d(!1),console.log(e)}))}},r.a.createElement(G,null)),r.a.createElement("a",{class:"card border-0",onClick:function(){d(!0),T("active").then((function(e){d(!1),l(e)})).catch((function(e){d(!1),console.log(e)}))}},r.a.createElement(V,null)),r.a.createElement("a",{class:"card border-0",onClick:function(){de("winning")}},r.a.createElement(U,null)),r.a.createElement("a",{class:"card border-0",onClick:function(){de("losing")}},r.a.createElement(q,null)))),r.a.createElement("div",{className:"shadow rounded p-5 mb-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"exampleFormControlSelect1"},"Search:"),r.a.createElement("input",{className:"form-control",value:w,onChange:function(e){return O(e.target.value)}}))),r.a.createElement("div",{className:"col-2"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"exampleFormControlSelect1"},"Search by:"),r.a.createElement("select",{class:"form-control",id:"exampleFormControlSelect1",onChange:function(e){return I(e.target.value)}},r.a.createElement("option",{value:"title"},"Title"),r.a.createElement("option",{value:"barCode"},"Bar Code"),r.a.createElement("option",{value:"gtin"},"GTIN"),r.a.createElement("option",{value:"minPrice"},"Min Price"),r.a.createElement("option",{value:"maxPrice"},"Max Price"),r.a.createElement("option",{value:"price"},"Price")))),r.a.createElement("div",{className:"col-1"},r.a.createElement("a",{className:"btn btn-secondary",style:{color:"#fff",marginTop:"30px",float:"right"},onClick:function(){var t=function(){var e="";return w.length>0&&(e+="&search="+w+"&searchBy="+S),H(e),e}();d(!0),P(e.guid,v,E,t,X).then((function(e){l(e),d(!1)})).catch((function(e){console.log(e)}))}},"Search")),r.a.createElement("div",{className:"col-2"},w.length>0?r.a.createElement("a",{className:"btn btn-outline-secondary",style:{marginTop:"30px"},onClick:function(){H(""),O(""),d(!0),P(e.guid,v,E,"",X).then((function(e){l(e),d(!1)})).catch((function(e){console.log(e)}))}},"Clear Search"):null),r.a.createElement("div",{className:"col-2"},r.a.createElement("a",{className:"btn btn-secondary",onClick:function(){d(!0),z(e.guid,v,E,$,X).then((function(e){l(e),d(!1)})).catch((function(e){console.log(e)}))},style:{color:"#fff",marginTop:"30px",float:"right"}},"Refresh Results")),r.a.createElement("div",{className:"col-2"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"exampleFormControlSelect1"},"Results per page"),r.a.createElement("select",{class:"form-control",id:"exampleFormControlSelect1",onChange:function(t){return function(t){d(!0),x(t.target.value),P(e.guid,t.target.value,E,$,X).then((function(e){l(e),d(!1)})).catch((function(e){console.log(e)}))}(t)}},r.a.createElement("option",null,"10"),r.a.createElement("option",null,"20"),r.a.createElement("option",null,"30"),r.a.createElement("option",null,"50"),r.a.createElement("option",null,"100"))))),r.a.createElement("table",{className:"table table-striped table-bordered table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col",onClick:function(){return ue("title")}},"Title","title"==L?"asc"==M?r.a.createElement("i",{className:"fa fa-chevron-up",style:{marginLeft:"5px"}}):"desc"==M?r.a.createElement("i",{className:"fa fa-chevron-down",style:{marginLeft:"5px"}}):null:null),r.a.createElement("th",{scope:"col",onClick:function(){return ue("mpBarcode")}},"Bar Code","mpBarcode"==L?"asc"==M?r.a.createElement("i",{className:"fa fa-chevron-up",style:{marginLeft:"5px"}}):"desc"==M?r.a.createElement("i",{className:"fa fa-chevron-down",style:{marginLeft:"5px"}}):null:null),r.a.createElement("th",{scope:"col",onClick:function(){return ue("gtin")}},"GTIN","gtin"==L?"asc"==M?r.a.createElement("i",{className:"fa fa-chevron-up",style:{marginLeft:"5px"}}):"desc"==M?r.a.createElement("i",{className:"fa fa-chevron-down",style:{marginLeft:"5px"}}):null:null),r.a.createElement("th",{scope:"col",onClick:function(){return ue("minPrice")}},"Minimum Price","minPrice"==L?"asc"==M?r.a.createElement("i",{className:"fa fa-chevron-up",style:{marginLeft:"5px"}}):"desc"==M?r.a.createElement("i",{className:"fa fa-chevron-down",style:{marginLeft:"5px"}}):null:null),r.a.createElement("th",{scope:"col",onClick:function(){return ue("maxPrice")}},"Preferred Price","maxPrice"==L?"asc"==M?r.a.createElement("i",{className:"fa fa-chevron-up",style:{marginLeft:"5px"}}):"desc"==M?r.a.createElement("i",{className:"fa fa-chevron-down",style:{marginLeft:"5px"}}):null:null),r.a.createElement("th",{scope:"col",onClick:function(){return ue("currentPrice")}},"Current Price","currentPrice"==L?"asc"==M?r.a.createElement("i",{className:"fa fa-chevron-up",style:{marginLeft:"5px"}}):"desc"==M?r.a.createElement("i",{className:"fa fa-chevron-down",style:{marginLeft:"5px"}}):null:null),r.a.createElement("th",{scope:"col",onClick:function(){return ue("buyBox")}},"Buybox","buyBox"==L?"asc"==M?r.a.createElement("i",{className:"fa fa-chevron-up",style:{marginLeft:"5px"}}):"desc"==M?r.a.createElement("i",{className:"fa fa-chevron-down",style:{marginLeft:"5px"}}):null:null),r.a.createElement("th",null,"Auto pricing"),r.a.createElement("th",null,"Takealot Link"))),r.a.createElement("tbody",null,u?r.a.createElement("tr",null,r.a.createElement("td",{className:"text-center",colSpan:"10"},r.a.createElement("i",{className:"fa fa-spinner fa-spin fa-2x"}))):c.length>0?c.map((function(e){return r.a.createElement("tr",{style:{color:"Active"==e.status?"black":"darkgrey"}},r.a.createElement("td",{onClick:function(){return pe("/product/".concat(e.offerId))}},e.title),r.a.createElement("td",{onClick:function(){return pe("/product/".concat(e.offerId))}},e.barCode),r.a.createElement("td",{onClick:function(){return pe("/product/".concat(e.offerId))}},e.gtin),r.a.createElement("td",{onClick:function(){return pe("/product/".concat(e.offerId))}},"R ",e.minPrice?e.minPrice.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"):"0.00"),r.a.createElement("td",{onClick:function(){return pe("/product/".concat(e.offerId))}},"R"," ",e.preferredSalePrice?e.preferredSalePrice.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"):"0.00"),r.a.createElement("td",{onClick:function(){return pe("/product/".concat(e.offerId))}},e.currentPrice?"R "+e.currentPrice.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"):"Disabled"),r.a.createElement("td",{onClick:function(){return pe("/product/".concat(e.offerId))}},r.a.createElement("span",{style:"Active"==e.status?e.isWinningBuybox?{color:"#009900"}:{color:"#ff0000"}:{}},"Active"==e.status?e.isWinningBuybox?"Winning":"Losing":"Disabled")),r.a.createElement("td",null,r.a.createElement("div",{class:"custom-control custom-switch"},r.a.createElement("input",{type:"checkbox",class:"custom-control-input",name:e.offerId+"_autoPricingSwitch",id:e.offerId+"_autoPricingSwitch",disabled:"Active"!=e.status,onChange:function(){e.toggleAutoPricing()}}),r.a.createElement("label",{class:"custom-control-label",for:e.offerId+"_autoPricingSwitch"}))),r.a.createElement("td",null,r.a.createElement("a",{href:e.url,target:"_blank"},"View Offer")))})):r.a.createElement("tr",null,r.a.createElement("td",{className:"text-center",colSpan:"8"},r.a.createElement("label",null,"No offers to display. Please refresh results"))))),r.a.createElement("div",{className:"row",style:{marginBottom:"30px"}},r.a.createElement("div",{className:"col-5"},E<2?null:r.a.createElement("button",{className:"btn btn-default",onClick:function(){d(!0);var t=E-1;P(e.guid,v,t,$,X).then((function(a){d(!1),h(t),e.storePageNumber(t),l(a)})).catch((function(e){console.log(e)}))}},"<<"," Previous")),r.a.createElement("div",{className:"col-2 text-center",style:{paddingTop:"10px"}},r.a.createElement("span",{className:"count-container",style:{padding:"3px 10px"}},"Page ",E)),r.a.createElement("div",{className:"col-5 text-right"},r.a.createElement("button",{className:"btn btn-default",onClick:function(){d(!0);var t=E+1;P(e.guid,v,t,$,X).then((function(a){d(!1),h(t),e.storePageNumber(t),l(a)}))}},"Next ",">>")))))),r.a.createElement("div",{style:{height:"50px"}}))}))),Q=a(16),X=function(e){var t=Object(n.useState)(),a=Object(i.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(!0),o=Object(i.a)(s,2),m=o[0],d=o[1],p=Object(n.useState)([]),f=Object(i.a)(p,2),E=f[0],h=f[1],g=Object(n.useState)(0),b=Object(i.a)(g,2),v=b[0],x=b[1],N=Object(n.useState)(0),y=Object(i.a)(N,2),w=y[0],O=y[1],j=Object(n.useState)(1),k=Object(i.a)(j,2),S=k[0],I=k[1],P=Object(n.useState)(!1),C=Object(i.a)(P,2),z=C[0],A=C[1],T=Object(n.useState)(!1),L=Object(i.a)(T,2),B=L[0],_=L[1],R=Object(n.useState)({min:{error:!1,message:""},max:{error:!1,message:""},increment:{error:!1,message:""}}),M=Object(i.a)(R,1)[0],D=Object(n.useState)(M),F=Object(i.a)(D,2),J=F[0],$=F[1];Object(n.useEffect)((function(){u.a.get("https://yr2yl0lpui.execute-api.us-east-1.amazonaws.com/dev/offers/"+e.match.params.id,{headers:{"x-api-key":"A8x8nBruJt5Obic2pzNdF3AtEzL4QOea6hN13D8A"}}).then((function(e){"Active"==e.data.status?l(!0):l(!1),d(!1);var t=e.data.image;null!==e.data.minPrice&&x(e.data.minPrice),null!==e.data.maxPrice&&O(e.data.maxPrice),null!==e.data.increment&&I(e.data.increment),h({title:e.data.offerTitle,price:e.data.currentPrice,description:e.data.description,image:e.data.image?t.replace("{size}","full"):"",brand:e.data.brand,offerId:e.data.offerId,id:e.data.productLineId,url:e.data.url}),U("description",e.data.description)})).catch((function(e){console.log(e)}))}),[]);for(var U=function(e,t){var a=document.getElementById(e);a&&(a.innerHTML=t)},q=function(){return U("incrementError",""),U("maxError",""),U("minError",""),!!function(){var e=M,t=!0;return console.log(e),console.log(v,w),parseInt(v)<1?(U("minError","Please provide a valid minimum value"),t=!1):parseInt(v)>parseInt(w)&&(U("minError","The minimum value can not be more than the maximum value"),t=!1),parseInt(w)<1?(U("maxError","Please provide a valid maximum value"),t=!1):parseInt(v)>parseInt(w)&&(U("maxError","The maximum value can not be less than the minimum value"),t=!1),parseInt(S)<1&&(U("incrementError","Please provide a valid increment value"),t=!1),$(e),console.log(J),t}()&&G()},G=function(){_(!0),A(!1);u.a.post("https://yr2yl0lpui.execute-api.us-east-1.amazonaws.com/dev/offers/thresholds/update",{offerId:E.offerId,max:parseFloat(w),min:parseFloat(v),increment:parseInt(S),productId:E.id},{headers:{"x-api-key":"A8x8nBruJt5Obic2pzNdF3AtEzL4QOea6hN13D8A"}}).then((function(e){console.log(e),A(!0)})).catch((function(e){console.log(e)})).finally((function(){_(!1)}))},V=[],H=0;H<4;H++)V.push({id:H,datetime:"15 minutes ago",reviewer:"Maniruzzaman Akash",message:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum."}),V.push({id:H,datetime:"2 hours ago",reviewer:"Vincent van Wyk",message:"There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable. If you are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in the middle of text. All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary, making this the first true generator on the Internet. It uses a dictionary of over 200 Latin words, combined with a handful of model sentence structures, to generate Lorem Ipsum which looks reasonable. The generated Lorem Ipsum is therefore always free from repetition, injected humour, or non-characteristic words etc."});V.map((function(e){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("img",{src:"https://image.ibb.co/jw55Ex/def_face.jpg",className:"img img-rounded img-fluid"}),r.a.createElement("p",{className:"text-secondary text-center"},e.datetime)),r.a.createElement("div",{className:"col-md-10"},r.a.createElement("p",null,r.a.createElement("a",{className:"float-left",href:"https://maniruzzaman-akash.blogspot.com/p/contact.html"},r.a.createElement("strong",null,e.reviewer)),r.a.createElement("span",{className:"float-right"},r.a.createElement("i",{className:"text-warning fa fa-star"})),r.a.createElement("span",{className:"float-right"},r.a.createElement("i",{className:"text-warning fa fa-star"})),r.a.createElement("span",{className:"float-right"},r.a.createElement("i",{className:"text-warning fa fa-star"})),r.a.createElement("span",{className:"float-right"},r.a.createElement("i",{className:"text-warning fa fa-star"}))),r.a.createElement("div",{className:"clearfix"}),r.a.createElement("br",null),r.a.createElement("p",{style:{fontSize:"0.8em"}},e.message)))}));return r.a.createElement(W,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 text-left"},r.a.createElement("div",{className:"container py-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:m?"col-12 text-center":"col-12"},m?r.a.createElement("i",{className:"fa fa-spinner fa-spin fa-3x",style:{marginTop:"100px"}}):c?r.a.createElement(Q.d,{style:{marginBottom:"150px"}},r.a.createElement(Q.b,null,r.a.createElement(Q.a,null,"Details"),r.a.createElement(Q.a,null,r.a.createElement("i",{className:"fa fa-cogg"}),"Settings")),r.a.createElement(Q.c,{style:{padding:"10px"}},r.a.createElement("div",{className:"row",style:{marginBottom:"30px"}},r.a.createElement("div",{className:"col-12"},r.a.createElement("h5",null,"Offer Details:"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement("img",{src:E.image,className:"img-fluid",style:{width:"400px",marginBottom:"10px",border:"1px solid #d2d1d1"}}),r.a.createElement("h6",null,r.a.createElement("b",null,"Price: R ",E.price,".00")),r.a.createElement("a",{className:"btn btn-success",style:{color:"#fff",marginTop:"10px"},href:E.url,target:"_blank"},"View Offer on Takealot")),r.a.createElement("div",{className:"col-8"},r.a.createElement("h5",null,r.a.createElement("b",null,E.title)),r.a.createElement("br",null),r.a.createElement("small",null,r.a.createElement("b",null,"Brand: ",E.brand)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h6",null,r.a.createElement("b",null,"Description:")),r.a.createElement("br",null),r.a.createElement("div",{className:"post__content",dangerouslySetInnerHTML:{__html:E.description}})))),r.a.createElement(Q.c,{style:{padding:"10px"}},r.a.createElement("div",{className:"row",style:{marginBottom:"30px"}},r.a.createElement("div",{className:"col-12"},r.a.createElement("h5",null,"Offer Settings:"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-8"},z?r.a.createElement("div",{className:"row justify-content-center offer-message"},r.a.createElement("div",{className:"col-8"},"Offer updated successfully")):null,r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-8"},r.a.createElement("label",{className:"form-label"},"Minimum Value"),r.a.createElement("input",{type:"number",className:"form-control",value:v,onChange:function(e){return x(e.target.value)}}),r.a.createElement("small",{style:{color:"#ff0000"},id:"minError"}))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-8"},r.a.createElement("label",{className:"form-label"},"Maximum value"),r.a.createElement("input",{type:"number",className:"form-control",value:w,onChange:function(e){return O(e.target.value)}}),r.a.createElement("small",{style:{color:"#ff0000"},id:"maxError"}))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-8"},r.a.createElement("a",{className:"btn btn-success",style:{color:"#fff",marginTop:"30px"},onClick:function(){return q()}},"Save",B?r.a.createElement("i",{className:"fa fa-spinner fa-spin",style:{marginLeft:"5px"}}):null))))))):r.a.createElement("h3",null,"Offer is no longer valid")))))))},Y=function(){return r.a.createElement(W,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 text-left"},r.a.createElement("div",{className:"container py-4"},r.a.createElement("h4",null,"Whoops, the page you are looking for does not exist!")))))},Z=a(35),ee=function(e){var t=e.component,a=e.authenticated,n=Object(Z.a)(e,["component","authenticated"]);return r.a.createElement(o.b,Object.assign({render:function(e){return a?r.a.createElement(o.a,{to:"/dashboard",push:!0}):r.a.createElement(t,e)}},n))},te=function(e){var t=e.component,a=e.authenticated,n=Object(Z.a)(e,["component","authenticated"]);return r.a.createElement(o.b,Object.assign({render:function(e){return a?r.a.createElement(t,e):r.a.createElement(o.a,{to:"/",push:!0})}},n))};var ae=Object(h.b)((function(e){return{authenticated:e.authenticated}}))((function(e){return r.a.createElement(s.a,null,r.a.createElement(o.d,null,r.a.createElement(te,{exact:!0,path:"/products",component:K,authenticated:e.authenticated}),r.a.createElement(te,{exact:!0,path:"/product/:id",component:X,authenticated:e.authenticated}),r.a.createElement(te,{exact:!0,path:"/dashboard",component:H,authenticated:e.authenticated}),r.a.createElement(ee,{exact:!0,path:"/",component:_,authenticated:e.authenticated}),r.a.createElement(ee,{exact:!0,path:"/register",component:R,authenticated:e.authenticated}),r.a.createElement(o.b,{path:"*",component:Y})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ne=a(26),re={authenticated:!1,guid:"",user:null,pageNumber:1,registered:0,showModal:0},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;return"STORE_AUTH"===t.type?Object.assign({},e,{authenticated:t.payload.authenticated,guid:t.payload.guid,user:t.payload.user}):"STORE_PAGE_NUMBER"===t.type?Object.assign({},e,{pageNumber:t.payload}):"SET_REGISTERED"===t.type?Object.assign({},e,{registered:t.payload.registered,showModal:t.payload.showModal}):e},le=re;try{null===(le=window.localStorage.getItem("price.beater"))&&(le=re),le=JSON.parse(le)}catch(me){le=re}var se=Object(ne.b)(ce,le,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());window.store=se;var oe=window.localStorage;window.store.subscribe((function(){ie(se.getState())}));var ie=function(e){try{var t=JSON.stringify(e);oe.setItem("price.beater",t)}catch(me){console.log(me)}};l.a.render(r.a.createElement(h.a,{store:se},r.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[49,1,2]]]);
//# sourceMappingURL=main.9983f86c.chunk.js.map