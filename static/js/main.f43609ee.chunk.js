(this["webpackJsonpprice-beater.fluenty.co.za"]=this["webpackJsonpprice-beater.fluenty.co.za"]||[]).push([[0],{128:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(19),c=a.n(l),s=(a(77),a(10)),i=a(16),o=(a(30),a(22),a(28),a(31),a(3)),u=a(9),m=a.n(u),d=(a(94),a(95),function(e){return r.a.createElement("div",{className:"limiter"},r.a.createElement("div",{className:"container-login100"},r.a.createElement("div",{className:"wrap-login100 p-l-50 p-r-50 p-t-77 p-b-30"},e.children)))}),p=function(e){return{type:"STORE_AUTH",payload:e}},f=function(e){return{type:"STORE_PAGE_NUMBER",payload:e}},E=function(e){return{type:"SET_REGISTERED",payload:e}},b=function(e){return{type:"LOGIN",payload:e}},h=function(e){return{type:"products_SET",payload:e}},g=function(e){return{type:"sales_SET",payload:e}},v=a(5),N=a(11),y=a.n(N),x=a(25),w=a(20),O=a(27),j={get latest(){return JSON.parse(window.localStorage.getItem("price.beater")).auth.user.sellerId}},k=function(){function e(t){Object(w.a)(this,e),this.title=t.title||t.productTitle||t.offerTitle,this.currentPrice=t.currentPrice||t.productPrice,this.rrp=t.rrp,this.offerId=t.offerId,this.tsin=t.tsin,this.sku=t.sku,this.gtin=t.gtin,this.url=t.productTakealotURL||t.url,this.status=t.status,this.barCode=t.mpBarcode||t.barCode,this.minPrice=t.minPrice,this.preferredSalePrice=t.maxPrice||t.preferredSalePrice,this.increment=t.increment,this.brand=t.brand,this.buybox=t.buyBox,this.plid=t.productLineId,this.currentSellerId=t.currentSellerId,this.autoPricingEnabled=1==t.autoPricingEnabled,this.isWinningBuybox=this.currentSellerId==j.latest,this.description=t.description,this.image=t.image?t.image.replace("{size}","full"):null,this.plid=t.productLineId}return Object(O.a)(e,[{key:"toggleAutoPricing",value:function(){this.autoPricingEnabled=!this.autoPricingEnabled,console.log("Toggled")}},{key:"merge",value:function(e){var t=this;Object.entries(e).forEach((function(e){var a=Object(o.a)(e,2),n=a[0],r=a[1];null==t[n]&&(t[n]=r)}))}}]),e}(),S=function(){function e(t){Object(w.a)(this,e),this.id=t.id,this.guid=t.guid,this.firstName=t.firstName,this.lastName=t.lastName,this.sellerId=t.sellerId,this.email=t.email,this.apikey=t.apikey}return Object(O.a)(e,null,[{key:"mock",value:function(){return new e({id:23,guid:"1d10f499-d4a9-4a7e-bc8d-c26b31f74291",firstName:"Byron",lastName:"Coetsee",sellerId:"9760",email:"byroncoetsee@gmail.com",apikey:"1234567890",createdAt:"2020-04-02T16:28:45",updatedAt:"2020-04-02T16:28:45",deletedAt:null})}}]),e}(),I="https://yr2yl0lpui.execute-api.us-east-1.amazonaws.com/dev",T="https://5habbbbms2.execute-api.us-east-1.amazonaws.com/dev",P="A8x8nBruJt5Obic2pzNdF3AtEzL4QOea6hN13D8A",_={get latest(){return JSON.parse(window.localStorage.getItem("price.beater")).auth.user.guid}};function A(){return(A=Object(x.a)(y.a.mark((function e(){var t,a,n,r,l,c,s=arguments;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:10,a=s.length>1&&void 0!==s[1]?s[1]:1,n=s.length>2&&void 0!==s[2]?s[2]:"",r=s.length>3&&void 0!==s[3]?s[3]:"",e.prev=4,e.next=7,m.a.get(I+"/offers/fetch/"+_.latest+"?items="+t+"&page="+a+n+r,{headers:{"x-api-key":P}});case 7:return l=e.sent,c=[],l.data.offers.map((function(e,t){c.push(new k(e))})),e.abrupt("return",c);case 13:return e.prev=13,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[4,13]])})))).apply(this,arguments)}function C(){return z.apply(this,arguments)}function z(){return(z=Object(x.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=_.latest){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,m.a.get(T+"/offers?guid="+_.latest,{headers:{"x-api-key":P}});case 5:return t=e.sent,a=[],t.data.map((function(e,t){a.push(new k(e))})),e.abrupt("return",a);case 11:return e.prev=11,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}var R=function(){var e=Object(x.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=_.latest){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,m.a.get(T+"/offers?guid="+_.latest+"&offerId="+t,{headers:{"x-api-key":P}});case 5:return a=e.sent,n=[],a.data.map((function(e,t){n.push(new k(e))})),e.abrupt("return",n[0]);case 12:return e.prev=12,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}();function L(e){return D.apply(this,arguments)}function D(){return(D=Object(x.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!=t){e.next=4;break}return console.log("No GUID provided to 'whoami'"),e.abrupt("return",null);case 4:return e.next=6,m.a.get(T+"/whoami?guid="+t,{headers:{"x-api-key":P}});case 6:return a=e.sent,n=a.data[0],e.abrupt("return",new S(n));case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function B(){return(B=Object(x.a)(y.a.mark((function e(t,a,n,r){var l,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!=t){e.next=3;break}return e.abrupt("return");case 3:if(null!=a){e.next=5;break}return e.abrupt("return");case 5:return l={offerId:t,enabled:a,minPrice:n,maxPrice:r},e.next=8,m.a.post(T+"/offers/thresholds/update",JSON.stringify(l),{headers:{"x-api-key":P}});case 8:return c=e.sent,console.log(c),e.abrupt("return","Success");case 13:return e.prev=13,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}var M=function e(t){Object(w.a)(this,e),this.itemId=t.order_item_id,this.id=t.order_id,this.orderDate=t.order_date,this.saleStatus=t.sale_status,this.offerId=t.offer_id,this.tsin=t.tsin,this.sku=t.sku,this.title=t.product_title,this.url=t.takealot_url||t.takealot_url_mobi,this.sellingPrice=t.selling_price,this.quantity=t.quantity,this.dc=t.dc,this.customer=t.customer,this.shipmentId=t.shipment_id,this.poNumber=t.po_number,this.shipmentStateId=t.shipment_state_id,this.shipmentName=t.shipment_name,this.promotion=t.promotion},U="https://5habbbbms2.execute-api.us-east-1.amazonaws.com/dev",F="A8x8nBruJt5Obic2pzNdF3AtEzL4QOea6hN13D8A",J={get latest(){return JSON.parse(window.localStorage.getItem("price.beater")).auth.user.guid}},q={get latest(){return JSON.parse(window.localStorage.getItem("price.beater")).auth.user.apikey}};function W(){return V.apply(this,arguments)}function V(){return(V=Object(x.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get(U+"/sales?guid="+J.latest+"&apikey="+q.latest,{headers:{"x-api-key":F}});case 3:return t=e.sent,a=[],t.data.map((function(e,t){a.push(new M(e))})),e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var G=Object(v.b)(null,(function(e){return{storeAuth:function(t){return e(p(t))}}}))((function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(""),u=Object(o.a)(i,2),p=u[0],f=u[1],E=Object(n.useState)(!1),N=Object(o.a)(E,2),y=N[0],x=N[1],w=Object(v.c)(),O=function(e,t){var a=document.getElementById(e);a&&(a.innerHTML=t)},j=function(){x(!0),m.a.post("https://yr2yl0lpui.execute-api.us-east-1.amazonaws.com/dev/users/login",{email:l,password:p},{headers:{"x-api-key":"A8x8nBruJt5Obic2pzNdF3AtEzL4QOea6hN13D8A"}}).then((function(t){L(t.data.guid).then((function(a){e.storeAuth({authenticated:!0,guid:t.data.guid}),w(b(a)),C().then((function(e){w(h(e))})),W().then((function(e){w(g(e))}))})).catch((function(e){console.log(e),e.response.data.message&&O("showError",'<div class="error-wrapper"><h4>'+e.response.data.message+"</h4></div>"),x(!1)}))})).catch((function(e){console.log(e),e.response.data.message&&O("showError",'<div class="error-wrapper"><h4>'+e.response.data.message+"</h4></div>"),x(!1)}))};return r.a.createElement(d,null,r.a.createElement("form",{className:"login100-form validate-form"},r.a.createElement("span",{className:"login100-form-title p-b-55"},"Sign In"),r.a.createElement("div",{id:"showError"}),r.a.createElement("div",{className:"wrap-input100 m-b-16"},r.a.createElement("input",{className:"input100",type:"text",name:"email",id:"email",placeholder:"Email",value:l,onChange:function(e){return c(e.target.value)}}),r.a.createElement("small",{className:"err-msg",id:"emailError"}),r.a.createElement("span",{className:"focus-input100"}),r.a.createElement("span",{className:"symbol-input100"},r.a.createElement("span",{className:"lnr lnr-envelope"}))),r.a.createElement("div",{className:"wrap-input100 m-b-16"},r.a.createElement("input",{className:"input100",type:"password",name:"pass",id:"pass",placeholder:"Password",value:p,onChange:function(e){return f(e.target.value)}}),r.a.createElement("small",{className:"err-msg",id:"passError"}),r.a.createElement("span",{className:"focus-input100"}),r.a.createElement("span",{className:"symbol-input100"},r.a.createElement("span",{className:"lnr lnr-lock"}))),r.a.createElement("div",{className:"contact100-form-checkbox m-l-4"},r.a.createElement("input",{className:"input-checkbox100",id:"ckb1",type:"checkbox",name:"remember-me"}),r.a.createElement("label",{className:"label-checkbox100",htmlFor:"ckb1"},"Remember me")),r.a.createElement("div",{className:"container-login100-form-btn p-t-25"},r.a.createElement("button",{className:"login100-form-btn",onClick:function(e){return e.preventDefault(),O("emailError",""),O("passError",""),O("showError",""),!!function(){var e=!0,t=new RegExp(/(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*(),.?":{}|<>])/g),a=new RegExp(/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/g);return l.length<1?(O("emailError","Email Address is required"),e=!1):a.test(l)||(O("emailError","Please provide a valid email address"),e=!1),p.length<1?(O("passError","Password is required"),e=!1):t.test(p)||(O("passError","Please provide a valid password"),e=!1),e}()&&j()}},"Login",y?r.a.createElement("span",{id:"loaderSpinner"},r.a.createElement("i",{class:"fa fa-spinner fa-spin"})):null)),r.a.createElement("div",{className:"text-center w-full p-t-50"},r.a.createElement("span",{className:"txt1"},"Not a member?"),r.a.createElement(s.b,{className:"txt1 bo1 hov1",to:"/register"},"Sign up now"))),r.a.createElement("p",{style:{fontSize:8,color:"#c5c5c5"}},"v1.1"))}));a(102);var H=Object(v.b)(null,(function(e){return{storeAuth:function(t){return e(p(t))},setRegistered:function(t){return e(E(t))}}}))((function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(""),u=Object(o.a)(i,2),p=u[0],f=u[1],E=Object(n.useState)(""),g=Object(o.a)(E,2),N=g[0],y=g[1],x=Object(n.useState)(""),w=Object(o.a)(x,2),O=w[0],j=w[1],k=Object(n.useState)(""),S=Object(o.a)(k,2),I=S[0],T=S[1],P=Object(n.useState)(!1),_=Object(o.a)(P,2),A=_[0],z=_[1],R=Object(v.c)(),D=function(e,t){document.getElementById(e).innerHTML=t},B=function(){z(!0),m.a.post("https://yr2yl0lpui.execute-api.us-east-1.amazonaws.com/dev/users/signup",{firstName:l,lastName:p,email:N,password:O,apiKey:I},{headers:{"x-api-key":"A8x8nBruJt5Obic2pzNdF3AtEzL4QOea6hN13D8A"}}).then((function(t){L(t.data.guid).then((function(a){e.setRegistered({registered:1,showModal:1}),e.storeAuth({authenticated:!0,guid:t.data.guid}),R(b(a)),C().then((function(e){R(h(e))}))})).catch((function(e){console.log(e),e.response.data.message&&D("showError",'<div class="error-wrapper"><h4>'+e.response.data.message+"</h4></div>"),z(!1)}))})).catch((function(e){e.response.data.message&&D("showError",'<div class="error-wrapper"><h4>'+e.response.data.message+"</h4></div>"),z(!1)}))};return r.a.createElement(d,null,r.a.createElement("form",{className:"login100-form validate-form"},r.a.createElement("span",{className:"login100-form-title p-b-55"},"Create Account"),r.a.createElement("div",{id:"showError"}),r.a.createElement("div",{className:"wrap-input100 m-b-16"},r.a.createElement("input",{className:"input100",type:"text",name:"first_name",id:"first_name",placeholder:"Firstname",value:l,onChange:function(e){return c(e.target.value)}}),r.a.createElement("small",{className:"err-msg",id:"nameError"}),r.a.createElement("span",{className:"focus-input100"}),r.a.createElement("span",{className:"symbol-input100"},r.a.createElement("span",{className:"lnr lnr-user"}))),r.a.createElement("div",{className:"wrap-input100 m-b-16"},r.a.createElement("input",{className:"input100",type:"text",name:"last_name",id:"last_name",placeholder:"Surname",value:p,onChange:function(e){return f(e.target.value)}}),r.a.createElement("small",{className:"err-msg",id:"surnameError"}),r.a.createElement("span",{className:"focus-input100"}),r.a.createElement("span",{className:"symbol-input100"},r.a.createElement("span",{className:"lnr lnr-user"}))),r.a.createElement("div",{className:"wrap-input100 m-b-16"},r.a.createElement("input",{className:"input100",type:"text",name:"email",id:"email",placeholder:"Email",value:N,onChange:function(e){return y(e.target.value)}}),r.a.createElement("small",{className:"err-msg",id:"emailError"}),r.a.createElement("span",{className:"focus-input100"}),r.a.createElement("span",{className:"symbol-input100"},r.a.createElement("span",{className:"lnr lnr-envelope"}))),r.a.createElement("div",{className:"wrap-input100 m-b-16"},r.a.createElement("input",{className:"input100",type:"text",name:"apikey",id:"apikey",placeholder:"Api Key",value:I,onChange:function(e){return T(e.target.value)}}),r.a.createElement("small",{className:"err-msg",id:"apiError"}),r.a.createElement("span",{className:"focus-input100"}),r.a.createElement("span",{className:"symbol-input100"},r.a.createElement("span",{className:"lnr lnr-envelope"}))),r.a.createElement("div",{className:"wrap-input100 m-b-16"},r.a.createElement("input",{className:"input100",type:"password",name:"pass",id:"pass",placeholder:"Password",value:O,onChange:function(e){return j(e.target.value)}}),r.a.createElement("small",{className:"err-msg",id:"passError"}),r.a.createElement("span",{className:"focus-input100"}),r.a.createElement("span",{className:"symbol-input100"},r.a.createElement("span",{className:"lnr lnr-lock"}))),r.a.createElement("div",{className:"contact100-form-checkbox m-l-4"},r.a.createElement("input",{className:"input-checkbox100",id:"ckb1",type:"checkbox",name:"remember-me"}),r.a.createElement("label",{className:"label-checkbox100",htmlFor:"ckb1"},"Remember me")),r.a.createElement("div",{className:"container-login100-form-btn p-t-25"},r.a.createElement("button",{className:"login100-form-btn",onClick:function(e){return e.preventDefault(),D("nameError",""),D("surnameError",""),D("emailError",""),D("passError",""),D("showError",""),!!function(){var e=!0,t=new RegExp(/(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*(),.?":{}|<>])/g),a=new RegExp(/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/g);return l.length<1&&D("nameError","Firstname is required"),p.length<1&&D("surnameError","Surname is required."),N.length<1?(D("emailError","Email Address is required"),e=!1):a.test(N)||(D("emailError","Please provide a valid email address"),e=!1),O.length<1?(D("passError","Password is required"),e=!1):t.test(O)||(D("passError","Please provide a valid password"),e=!1),I.length<1&&D("apiError","Api Key is required."),e}()&&B()}},"Sign Up",A?r.a.createElement("span",{id:"loaderSpinner"},r.a.createElement("i",{class:"fa fa-spinner fa-spin"})):null)),r.a.createElement("div",{className:"text-center w-full p-t-50"},r.a.createElement("span",{className:"txt1"},"Already have an account?"),r.a.createElement(s.b,{className:"txt1 bo1 hov1",to:"/"},"Sign in now"))))})),K=a(13),Q=a.n(K),Y=a(66),$=a.n(Y);var X=Object(i.g)(Object(v.b)(null,(function(e){return{storeAuth:function(t){return e(p(t))},storePageNumber:function(t){return e(f(t))}}}))((function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),l=a[0],c=a[1],s=Object(n.useState)(""),u=Object(o.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(window.location.pathname.substring(1)),f=Object(o.a)(p,1)[0],E=Object(v.c)(),b=function(e){window.location.pathname!==e&&(d(e),c(!0))};return l?r.a.createElement(i.a,{to:m,push:!0}):r.a.createElement("div",{className:"App"},r.a.createElement(Q.a,{style:{position:"fixed"}},r.a.createElement(K.Toggle,null),r.a.createElement(K.Nav,{defaultSelected:f},r.a.createElement(K.NavItem,{eventKey:"dashboard",onClick:function(){return b("/dashboard")}},r.a.createElement(K.NavIcon,null,r.a.createElement("i",{className:"fa fa-fw fa-home",style:{fontSize:"1.25em"}})),r.a.createElement(K.NavText,null,"Dashboard")),r.a.createElement(K.NavItem,{eventKey:"products",onClick:function(){return b("/products")}},r.a.createElement(K.NavIcon,null,r.a.createElement("i",{className:"fas fa-shopping-cart",style:{fontSize:"1.25em"}})),r.a.createElement(K.NavText,null,"Products")),r.a.createElement(K.NavItem,{eventKey:"sales",onClick:function(){return b("/sales")}},r.a.createElement(K.NavIcon,null,r.a.createElement("i",{className:"fas fa-funnel-dollar",style:{fontSize:"1.25em"}})),r.a.createElement(K.NavText,null,"Sales")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 text-left"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement("div",{className:"collapse navbar-collapse",style:{marginLeft:"3.5em"}},r.a.createElement("button",{className:"navbar-brand",href:"#",style:{marginLeft:"2.5em"}},r.a.createElement("img",{src:$.a,height:"30",className:"d-inline-block align-top",alt:""}),"Pricebeater")),r.a.createElement("div",{className:"col-1 nav-item navbar-nav dropdown justify-content-end"},r.a.createElement("button",{className:"nav-link dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Profile"),r.a.createElement("div",{className:"dropdown-menu  dropdown-menu-right","aria-labelledby":"navbarDropdown"},r.a.createElement("button",{className:"dropdown-item"},"Your details"),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement("button",{className:"dropdown-item",onClick:function(){e.storePageNumber(1),e.storeAuth({authenticated:!1,guid:""}),E({type:"LOGOUT"}),E({type:"products_CLEAR"}),E({type:"sales_CLEAR"})}},"Logout")))))),e.children,r.a.createElement("footer",{className:"py-2 bg-secondary text-white"},r.a.createElement("div",{className:"container text-center"},r.a.createElement("small",null,"Copyright \xa9 pricebeater | Version 1.0.1"))))}))),Z=function(e){var t=e.handleClose,a=e.show,n=e.children;return r.a.createElement("div",{className:1==a?"modal display-block":"modal display-none"},r.a.createElement("section",{className:"modal-main"},r.a.createElement("div",{className:"container"},n,r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("button",{className:"btn btn-success",onClick:t},"Close")))))},ee=a(34),te=function(e){return r.a.createElement("a",{className:"card text-white bg-success mb-3 stretched-link"},r.a.createElement("div",{className:"card-header"},"Winning Offers"),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title counter-total"},e.products.filter((function(e){return e.isWinningBuybox&&"Active"==e.status})).length)))},ae=function(e){return r.a.createElement("a",{className:"card text-white bg-danger mb-3 stretched-link"},r.a.createElement("div",{className:"card-header"},"Losing Offers"),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title counter-total"},e.products.filter((function(e){return!e.isWinningBuybox&&"Active"==e.status})).length)))},ne=function(e){return r.a.createElement("a",{className:"card text-white bg-info mb-3 stretched-link"},r.a.createElement("div",{className:"card-header"},"Total Offers"),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title counter-total"},e.products.length)))},re=function(e){return r.a.createElement("a",{className:"card text-white bg-primary mb-3 stretched-link"},r.a.createElement("div",{className:"card-header"},"Total Active Offers"),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title counter-total"},e.products.filter((function(e){return"Active"==e.status})).length)))},le=function(e){return r.a.createElement("a",{className:"card text-white bg-secondary mb-3 stretched-link"},r.a.createElement("div",{className:"card-header"},"Total Deactive Offers"),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title counter-total"},e.products.filter((function(e){return"Active"!=e.status})).length)))},ce=function(e){var t=0;return e.sales.forEach((function(e){t+=e.sellingPrice*e.quantity})),r.a.createElement("a",{className:"card text-white bg-success mb-3 stretched-link"},r.a.createElement("div",{className:"card-header"},"Total Revenue (30days)"),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title counter-total"},r.a.createElement(ee.a,{value:t,displayType:"text",thousandSeparator:!0,prefix:"R "}))))},se=function(e){var t={},a="None",n=0;return e.sales.forEach((function(e){t[e.title]=(t[e.title]||0)+1})),Object.entries(t).forEach((function(e){var t=Object(o.a)(e,2),r=t[0],l=t[1];l>=n&&(a=l==n?a+" & "+r:r,n=l)})),r.a.createElement("a",{className:"card text-white bg-primary mb-3 stretched-link"},r.a.createElement("div",{className:"card-header"},"Best Selling (30days)"),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"card-title counter-total"},r.a.createElement("h3",null,a,r.a.createElement("br",null)),r.a.createElement("h5",null,n+" sold"))))},ie=function(e){var t={},a="None",n=0;return e.sales.forEach((function(e){var a=e.sellingPrice*e.quantity;t[e.orderDate]=(t[e.orderDate]||0)+a})),Object.entries(t).forEach((function(e){var t=Object(o.a)(e,2),r=t[0],l=t[1],c=r.split(" "),s=c[0]+" "+c[1]+" "+c[2];l>=n&&(a=s==a?s+" & "+a:s,n=l)})),r.a.createElement("a",{className:"card text-white bg-info mb-3 stretched-link"},r.a.createElement("div",{className:"card-header"},"Best Day (30days)"),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"card-title counter-total"},r.a.createElement("h2",null,a,r.a.createElement("br",null),r.a.createElement(ee.a,{value:n,displayType:"text",thousandSeparator:!0,prefix:"R "})))))},oe=a(67),ue=(a(108),function(e){var t=Object.assign([],e.sales),a={},n={},l=0;return t.reverse().forEach((function(e){var t=e.sellingPrice*e.quantity,r=e.orderDate.split(" "),c=r[0]+" "+r[1]+" "+r[2];l+=t,a[c]=(a[c]||0)+t,n[c]=l})),r.a.createElement("div",null,r.a.createElement(oe.a,{prefix:"R ",thousands:",",messages:{empty:"No data (yet)"},download:!0,data:[{name:"Daily Total",data:a},{name:"Running Total",data:n}]}))});var me=Object(v.b)((function(e){return{registered:e.global.registered,showModal:e.global.showModal,products:e.products,sales:e.sales}}),(function(e){return{setRegistered:function(t){return e(E(t))}}}))((function(e){var t=Object(n.useState)(e.showModal),a=Object(o.a)(t,2),l=a[0],c=a[1];Object(n.useEffect)((function(){1==e.showModal&&e.setRegistered({registered:e.registered,showModal:0})}),[]);return r.a.createElement(X,null,r.a.createElement(Z,{show:l,handleClose:function(){c(0)}},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-10"},r.a.createElement("h2",null,"Welcome!"),r.a.createElement("br",null),r.a.createElement("h3",null,"Your information is being pulled from Takealot. This might take up to 30 minutes."),r.a.createElement("br",null)))),r.a.createElement("div",{className:"row justify-content-center",style:{paddingTop:"30px"}},r.a.createElement("div",{className:"col-10"},r.a.createElement("div",{className:"shadow rounded p-5 mb-5"},r.a.createElement(ue,{sales:e.sales})))),r.a.createElement("div",{className:"row justify-content-center",style:{paddingTop:"30px"}},r.a.createElement("div",{className:"col-10"},r.a.createElement("div",{className:"shadow rounded p-5 mb-5"},r.a.createElement("h2",{className:"pb-5"},"Products"),r.a.createElement("div",{class:"card-deck"},r.a.createElement("div",{class:"card border-0",onClick:function(){}},r.a.createElement(ne,{products:e.products})),r.a.createElement("div",{class:"card border-0",onClick:function(){}},r.a.createElement(re,{products:e.products})),r.a.createElement("div",{class:"card border-0",onClick:function(){}},r.a.createElement(le,{products:e.products})),r.a.createElement("div",{class:"card border-0",onClick:function(){}},r.a.createElement(te,{products:e.products})),r.a.createElement("div",{class:"card border-0",onClick:function(){}},r.a.createElement(ae,{products:e.products})))))))})),de=a(38),pe=a(39),fe=a(37),Ee=a(14),be=a(24),he=a.n(be),ge=function(e){var t=Object(n.useState)(e.offer),a=Object(o.a)(t,2),l=a[0],c=a[1],s=Object(n.useState)(!0),i=Object(o.a)(s,2),u=i[0],d=i[1],p=Object(n.useState)(null),f=Object(o.a)(p,2),E=f[0],b=f[1],h=Object(n.useState)(!1),g=Object(o.a)(h,2),N=g[0],y=g[1],x=Object(n.useState)(e.defaultTab),w=Object(o.a)(x,2),O=w[0],j=w[1],S=Object(v.c)();Object(n.useEffect)((function(){c(e.offer),I(e.offer),j(e.options.defaultTab)}),[e.offer,e.options.defaultTab]);var I=function(t){if(null!=t){"Active"!=t.status&&d(!1);m.a.get("https://yr2yl0lpui.execute-api.us-east-1.amazonaws.com/dev/offers/"+t.offerId,{headers:{"x-api-key":"A8x8nBruJt5Obic2pzNdF3AtEzL4QOea6hN13D8A"}}).then((function(t){var a=new k(e.offer),n=new k(t.data);a.merge(n),c(a),d(!1)})).catch((function(e){console.log(e),T(e.message,"danger"),d(!1)}))}},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];b({message:e,type:t}),a&&setTimeout((function(){b(null)}),5e3)},P=function(){if(function(){var e=he()("#minPrice").val(),t=he()("#preferredPrice").val();return parseInt(e)<1?(T("Your minimum price is less than R1. You're not giving it away for free are you?","danger"),!1):parseInt(e)>parseInt(t)?(T("Your minimum price can't be more than your preferred price","danger"),!1):parseInt(t)<1?(T("Your preferred price is less than R1. You're not giving it away for free are you?","danger"),!1):!(parseInt(e)>parseInt(t))||(T("Your preferred price can not be less than your minimum price","danger"),!1)}()){T("Saving..."),y(!0);var e=he()("#minPrice").val(),t=he()("#preferredPrice").val(),a=he()("#"+l.offerId+"_autoPricingSwitch")[0].checked||!1;(function(e,t,a,n){return B.apply(this,arguments)})(l.offerId,a,parseFloat(e),parseFloat(t)).then((function(e){console.log(e),T("Saved!"),T("Fetching latest data..."),R(l.offerId).then((function(e){T("Up to date","success",!0),y(!1),null!=e&&S({type:"products_UPDATE",payload:e})}))})).catch((function(e){console.log(e),T(e.message,"danger"),y(!1)}))}};return r.a.createElement("div",null,r.a.createElement("div",{class:"modal fade",id:"productDetailsModal",tabindex:"-1",role:"dialog","aria-labelledby":"productDetailsModalLabel","aria-hidden":"true"},r.a.createElement("div",{class:"modal-dialog modal-xl",role:"document"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("div",{class:"modal-header"},r.a.createElement("h5",{class:"modal-title",id:"productDetailsModalLabel"},"Product details"),r.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{class:"modal-body"},r.a.createElement("div",{className:"col-12 text-left"},r.a.createElement("div",{className:"container py-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:u||null==l?"col-12 text-center":"col-12"},u||null==l?r.a.createElement("i",{className:"fa fa-spinner fa-spin fa-3x",style:{marginTop:"100px"}}):"Active"==l.status?r.a.createElement(Ee.d,{defaultIndex:O},r.a.createElement(Ee.b,null,r.a.createElement(Ee.a,null,"Details"),r.a.createElement(Ee.a,null,"Settings")),r.a.createElement(Ee.c,{style:{padding:"10px"}},r.a.createElement("div",{className:"row",style:{marginBottom:"30px"}},r.a.createElement("div",{className:"col-12"},r.a.createElement("h5",null,"Offer Details:"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement("img",{src:l.image,className:"img-fluid",style:{width:"400px",marginBottom:"10px",border:"1px solid #d2d1d1"}}),r.a.createElement("h6",null,r.a.createElement("b",null,"Price: R ",l.currentPrice,".00")),r.a.createElement("a",{className:"btn btn-success",style:{color:"#fff",marginTop:"10px"},href:l.url,target:"_blank"},"View Offer on Takealot")),r.a.createElement("div",{className:"col-8"},r.a.createElement("h5",null,r.a.createElement("b",null,l.title)),r.a.createElement("br",null),r.a.createElement("small",null,r.a.createElement("b",null,"Brand: ",l.brand)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h6",null,r.a.createElement("b",null,"Description:")),r.a.createElement("br",null),r.a.createElement("div",{className:"post__content",dangerouslySetInnerHTML:{__html:l.description}})))),r.a.createElement(Ee.c,{style:{padding:"10px"}},r.a.createElement("div",{className:"row",style:{marginBottom:"30px"}},r.a.createElement("div",{className:"col-12"},r.a.createElement("h5",null,"Offer Settings:"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-8"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-8"},r.a.createElement("label",{className:"form-label"},"Minimum price"),r.a.createElement("input",{id:"minPrice",type:"number",className:"form-control",defaultValue:l.minPrice}),r.a.createElement("small",{style:{color:"#ff0000"},id:"minError"}))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-8"},r.a.createElement("label",{className:"form-label"},"Preferred sale Price"),r.a.createElement("input",{id:"preferredPrice",type:"number",className:"form-control",defaultValue:l.preferredSalePrice}),r.a.createElement("small",{style:{color:"#ff0000"},id:"maxError"}))),r.a.createElement("br",null),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-8"},r.a.createElement("div",{class:"custom-control custom-switch"},r.a.createElement("input",{type:"checkbox",class:"custom-control-input",name:l.offerId+"_autoPricingSwitch",id:l.offerId+"_autoPricingSwitch",defaultChecked:l.autoPricingEnabled}),r.a.createElement("label",{class:"custom-control-label",for:l.offerId+"_autoPricingSwitch"},"Enable the auto-pricing system?",r.a.createElement("br",null),"This means we will ",r.a.createElement("b",null,"automatically")," lower your sale price to beat other sellers.",r.a.createElement("br",null),r.a.createElement("b",null,"It will never go below your minimum or above your maximum."))))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-8"},r.a.createElement("a",{className:"btn btn-success",style:{color:"#fff",marginTop:"30px"},onClick:function(){return P()}},"Save"))))))):r.a.createElement("h3",null,"This offer is inactive.")))))),null!=E?r.a.createElement("div",{className:"modal-footer",style:{display:"block"}},r.a.createElement("div",{className:"row justify-content-center"},function(){var e=E.message,t=E.type;E.loading;return r.a.createElement("div",{className:"col-8 text-"+t},e)}()),N?r.a.createElement("i",{className:"fa fa-spinner fa-spin",style:{marginLeft:"5px"}}):null):null))))},ve=function(e){Object(pe.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).state={loading:!1,selectedOffer:null,filter:e.filter,productModalOptions:{}},n}return Object(O.a)(a,[{key:"didSelectRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;console.log(e),this.setState({selectedOffer:e,productModalOptions:{defaultTab:t}}),he()("#productDetailsModal").modal("show")}},{key:"render",value:function(){var e=this;return null==this.props.products?r.a.createElement("h1",null,"No dice"):r.a.createElement("div",null,r.a.createElement(ge,{offer:this.state.selectedOffer,options:this.state.productModalOptions}),r.a.createElement(fe.c,{name:"productsTable",id:"productsTable",entries:20,striped:!0,bordered:!0,hover:!0,data:{columns:[{label:"Title",field:"title",sort:"asc",fixed:!0},{label:"TSIN",field:"tsin"},{label:"SKU",field:"sku"},{label:"Minimum price",field:"minPriceControl"},{label:"Preferred price",field:"preferredPriceControl"},{label:"Current price",field:"currentPrice"},{label:"Status",field:"statusControl"},{label:"Auto pricing",field:"autoPricingEnabledControl"},{label:"Takelot link",field:"urlControl"},{label:"Settings",field:"settings"}],rows:this.props.products.map((function(t){return t.autoPricingEnabledControl=r.a.createElement("div",{class:"custom-control custom-switch"},r.a.createElement("input",{type:"checkbox",class:"custom-control-input",name:t.offerId+"_autoPricingSwitch",id:t.offerId+"_autoPricingSwitch",checked:t.autoPricingEnabled,disabled:!0,onChange:function(){new k(t).toggleAutoPricing()}}),r.a.createElement("label",{class:"custom-control-label",for:t.offerId+"_autoPricingSwitch"})),t.minPriceControl=r.a.createElement("button",{onClick:function(){return e.didSelectRow(t,1)}},t.minPrice||"  .  "),t.preferredPriceControl=r.a.createElement("button",{onClick:function(){return e.didSelectRow(t,1)}},t.preferredSalePrice||"  .  "),t.statusControl=r.a.createElement("span",{style:"Active"==t.status?t.isWinningBuybox?{color:"#009900"}:{color:"#ff0000"}:{}},"Active"==t.status?t.isWinningBuybox?"Winning":"Losing":"Disabled"),t.urlControl=r.a.createElement("a",{href:t.url,target:"_blank"},"View Offer"),t.settings=r.a.createElement("button",{onClick:function(){return e.didSelectRow(t)}},r.a.createElement("span",{style:{fontSize:20,color:"grey"}},r.a.createElement("i",{class:"fas fa-sliders-h"}))),t})).filter((function(t){switch(e.props.filter){case"winning":return"Active"==t.status&&t.isWinningBuybox;case"losing":return"Active"==t.status&&!t.isWinningBuybox;case"active":return"Active"==t.status;case"deactive":return"Active"!=t.status;default:return!0}}))},style:{zIndex:999999}}))}}]),a}(r.a.Component),Ne=Object(v.b)((function(e){return{guid:e.auth.user.guid,products:e.products.map((function(e){return Object.assign({},e)}))}}))(ve);var ye=Object(i.g)(Object(v.b)((function(e){return{registered:e.global.registered,showModal:e.global.showModal,products:e.products}}),(function(e){return{storePageNumber:function(t){return e(f(t))},setRegistered:function(t){return e(E(t))}}}))((function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),l=a[0],c=(a[1],Object(n.useState)("")),s=Object(o.a)(c,2),u=s[0],m=(s[1],Object(n.useState)(null)),d=Object(o.a)(m,2),p=d[0],f=d[1],E=Object(v.c)();return l?r.a.createElement(i.a,{to:u,push:!0}):r.a.createElement(X,null,r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-2"},r.a.createElement("button",{type:"button",class:"btn btn-outline-info btn-sm",onClick:function(){C().then((function(e){E(h(e))}))}},"Refresh Local Results")),r.a.createElement("div",{className:"col-2"},r.a.createElement("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(){(function(){return A.apply(this,arguments)})().then((function(e){E(h(e))})).catch((function(e){console.log(e)}))}},"Refresh Remote (Don't use)"))),r.a.createElement("div",{className:"row justify-content-center",style:{paddingTop:"30px"}},r.a.createElement("div",{className:"col-10"},r.a.createElement("div",{className:"py-4"},r.a.createElement("div",{class:"card-deck"},r.a.createElement("div",{class:"card border-0",onClick:function(){f(null)}},r.a.createElement(ne,{products:e.products})),r.a.createElement("div",{class:"card border-0",onClick:function(){f("active")}},r.a.createElement(re,{products:e.products})),r.a.createElement("div",{class:"card border-0",onClick:function(){f("deactive")}},r.a.createElement(le,{products:e.products})),r.a.createElement("div",{class:"card border-0",onClick:function(){f("winning")}},r.a.createElement(te,{products:e.products})),r.a.createElement("div",{class:"card border-0",onClick:function(){f("losing")}},r.a.createElement(ae,{products:e.products})))),r.a.createElement("div",{className:"shadow rounded p-5 mb-5"},r.a.createElement(Ne,{products:e.products,filter:p,didSelectItem:function(e){}})))),r.a.createElement("div",{style:{height:"50px"}}))}))),xe=function(e){var t=Object(n.useState)(),a=Object(o.a)(t,2),l=a[0],c=a[1],s=Object(n.useState)(!0),i=Object(o.a)(s,2),u=i[0],d=i[1],p=Object(n.useState)([]),f=Object(o.a)(p,2),E=f[0],b=f[1],h=Object(n.useState)(0),g=Object(o.a)(h,2),v=g[0],N=g[1],y=Object(n.useState)(0),x=Object(o.a)(y,2),w=x[0],O=x[1],j=Object(n.useState)(1),k=Object(o.a)(j,2),S=k[0],I=k[1],T=Object(n.useState)(!1),P=Object(o.a)(T,2),_=P[0],A=P[1],C=Object(n.useState)(!1),z=Object(o.a)(C,2),R=z[0],L=z[1],D=Object(n.useState)({min:{error:!1,message:""},max:{error:!1,message:""},increment:{error:!1,message:""}}),B=Object(o.a)(D,1)[0],M=Object(n.useState)(B),U=Object(o.a)(M,2),F=U[0],J=U[1];Object(n.useEffect)((function(){-1!=e.offerId&&m.a.get("https://yr2yl0lpui.execute-api.us-east-1.amazonaws.com/dev/offers/"+e.offerId,{headers:{"x-api-key":"A8x8nBruJt5Obic2pzNdF3AtEzL4QOea6hN13D8A"}}).then((function(e){"Active"==e.data.status?c(!0):c(!1),d(!1);var t=e.data.image;null!==e.data.minPrice&&N(e.data.minPrice),null!==e.data.maxPrice&&O(e.data.maxPrice),null!==e.data.increment&&I(e.data.increment),b({title:e.data.offerTitle,price:e.data.currentPrice,description:e.data.description,image:e.data.image?t.replace("{size}","full"):"",brand:e.data.brand,offerId:e.data.offerId,id:e.data.productLineId,url:e.data.url}),q("description",e.data.description)})).catch((function(e){console.log(e)}))}),[]);for(var q=function(e,t){var a=document.getElementById(e);a&&(a.innerHTML=t)},W=function(){return q("incrementError",""),q("maxError",""),q("minError",""),!!function(){var e=B,t=!0;return console.log(e),console.log(v,w),parseInt(v)<1?(q("minError","Please provide a valid minimum value"),t=!1):parseInt(v)>parseInt(w)&&(q("minError","The minimum value can not be more than the maximum value"),t=!1),parseInt(w)<1?(q("maxError","Please provide a valid maximum value"),t=!1):parseInt(v)>parseInt(w)&&(q("maxError","The maximum value can not be less than the minimum value"),t=!1),parseInt(S)<1&&(q("incrementError","Please provide a valid increment value"),t=!1),J(e),console.log(F),t}()&&V()},V=function(){L(!0),A(!1);m.a.post("https://yr2yl0lpui.execute-api.us-east-1.amazonaws.com/dev/offers/thresholds/update",{offerId:E.offerId,max:parseFloat(w),min:parseFloat(v),increment:parseInt(S),productId:E.id},{headers:{"x-api-key":"A8x8nBruJt5Obic2pzNdF3AtEzL4QOea6hN13D8A"}}).then((function(e){console.log(e),A(!0)})).catch((function(e){console.log(e)})).finally((function(){L(!1)}))},G=[],H=0;H<4;H++)G.push({id:H,datetime:"15 minutes ago",reviewer:"Maniruzzaman Akash",message:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum."}),G.push({id:H,datetime:"2 hours ago",reviewer:"Vincent van Wyk",message:"There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable. If you are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in the middle of text. All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary, making this the first true generator on the Internet. It uses a dictionary of over 200 Latin words, combined with a handful of model sentence structures, to generate Lorem Ipsum which looks reasonable. The generated Lorem Ipsum is therefore always free from repetition, injected humour, or non-characteristic words etc."});G.map((function(e){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("img",{src:"https://image.ibb.co/jw55Ex/def_face.jpg",className:"img img-rounded img-fluid"}),r.a.createElement("p",{className:"text-secondary text-center"},e.datetime)),r.a.createElement("div",{className:"col-md-10"},r.a.createElement("p",null,r.a.createElement("a",{className:"float-left",href:"https://maniruzzaman-akash.blogspot.com/p/contact.html"},r.a.createElement("strong",null,e.reviewer)),r.a.createElement("span",{className:"float-right"},r.a.createElement("i",{className:"text-warning fa fa-star"})),r.a.createElement("span",{className:"float-right"},r.a.createElement("i",{className:"text-warning fa fa-star"})),r.a.createElement("span",{className:"float-right"},r.a.createElement("i",{className:"text-warning fa fa-star"})),r.a.createElement("span",{className:"float-right"},r.a.createElement("i",{className:"text-warning fa fa-star"}))),r.a.createElement("div",{className:"clearfix"}),r.a.createElement("br",null),r.a.createElement("p",{style:{fontSize:"0.8em"}},e.message)))}));return r.a.createElement("div",{className:"row"},r.a.createElement("h1",null,e.offerId),r.a.createElement("div",{className:"col-12 text-left"},r.a.createElement("div",{className:"container py-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:u?"col-12 text-center":"col-12"},u?r.a.createElement("i",{className:"fa fa-spinner fa-spin fa-3x",style:{marginTop:"100px"}}):l?r.a.createElement(Ee.d,{style:{marginBottom:"150px"}},r.a.createElement(Ee.b,null,r.a.createElement(Ee.a,null,"Details"),r.a.createElement(Ee.a,null,r.a.createElement("i",{className:"fa fa-cogg"}),"Settings")),r.a.createElement(Ee.c,{style:{padding:"10px"}},r.a.createElement("div",{className:"row",style:{marginBottom:"30px"}},r.a.createElement("div",{className:"col-12"},r.a.createElement("h5",null,"Offer Details:"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement("img",{src:E.image,className:"img-fluid",style:{width:"400px",marginBottom:"10px",border:"1px solid #d2d1d1"}}),r.a.createElement("h6",null,r.a.createElement("b",null,"Price: R ",E.price,".00")),r.a.createElement("a",{className:"btn btn-success",style:{color:"#fff",marginTop:"10px"},href:E.url,target:"_blank"},"View Offer on Takealot")),r.a.createElement("div",{className:"col-8"},r.a.createElement("h5",null,r.a.createElement("b",null,E.title)),r.a.createElement("br",null),r.a.createElement("small",null,r.a.createElement("b",null,"Brand: ",E.brand)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h6",null,r.a.createElement("b",null,"Description:")),r.a.createElement("br",null),r.a.createElement("div",{className:"post__content",dangerouslySetInnerHTML:{__html:E.description}})))),r.a.createElement(Ee.c,{style:{padding:"10px"}},r.a.createElement("div",{className:"row",style:{marginBottom:"30px"}},r.a.createElement("div",{className:"col-12"},r.a.createElement("h5",null,"Offer Settings:"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-8"},_?r.a.createElement("div",{className:"row justify-content-center offer-message"},r.a.createElement("div",{className:"col-8"},"Offer updated successfully")):null,r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-8"},r.a.createElement("label",{className:"form-label"},"Minimum Value"),r.a.createElement("input",{type:"number",className:"form-control",value:v,onChange:function(e){return N(e.target.value)}}),r.a.createElement("small",{style:{color:"#ff0000"},id:"minError"}))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-8"},r.a.createElement("label",{className:"form-label"},"Maximum value"),r.a.createElement("input",{type:"number",className:"form-control",value:w,onChange:function(e){return O(e.target.value)}}),r.a.createElement("small",{style:{color:"#ff0000"},id:"maxError"}))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-8"},r.a.createElement("a",{className:"btn btn-success",style:{color:"#fff",marginTop:"30px"},onClick:function(){return W()}},"Save",R?r.a.createElement("i",{className:"fa fa-spinner fa-spin",style:{marginLeft:"5px"}}):null))))))):r.a.createElement("h3",null,"Offer is no longer valid"))))))},we=function(){return r.a.createElement(X,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 text-left"},r.a.createElement("div",{className:"container py-4"},r.a.createElement("h4",null,"Whoops, the page you are looking for does not exist!")))))},Oe=a(50),je=function(e){var t=e.component,a=e.authenticated,n=Object(Oe.a)(e,["component","authenticated"]);return r.a.createElement(i.b,Object.assign({render:function(e){return a?r.a.createElement(i.a,{to:"/dashboard",push:!0}):r.a.createElement(t,e)}},n))},ke=function(e){var t=e.component,a=e.authenticated,n=Object(Oe.a)(e,["component","authenticated"]);return r.a.createElement(i.b,Object.assign({render:function(e){return a?r.a.createElement(t,e):r.a.createElement(i.a,{to:"/",push:!0})}},n))},Se=function(e){Object(pe.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).state={loading:!1},n}return Object(O.a)(a,[{key:"render",value:function(){return null==this.props.sales?r.a.createElement("h1",null,"No dice"):r.a.createElement("div",null,r.a.createElement(fe.c,{name:"salesTable",id:"salesTable",entries:20,striped:!0,bordered:!0,hover:!0,data:{columns:[{label:"Date",field:"orderDate",sort:"asc",fixed:!0},{label:"Title",field:"title"},{label:"SKU",field:"sku"},{label:"TSIN",field:"tsin"},{label:"Price (R)",field:"sellingPrice"},{label:"Quantity",field:"quantity"},{label:"Total (R)",field:"saleTotalControl"},{label:"DC",field:"dc"},{label:"customer",field:"customer"}],rows:this.props.sales.map((function(e){return e.saleTotalControl=e.sellingPrice*e.quantity,e.sellingPriceControl=r.a.createElement(ee.a,{value:e.sellingPrice,displayType:"text",thousandSeparator:!0,prefix:"R "}),e}))},style:{zIndex:999999}}))}}]),a}(r.a.Component),Ie=Object(v.b)((function(e){return{guid:e.auth.user.guid,sales:e.sales.map((function(e){return Object.assign({},e)}))}}))(Se);var Te=Object(i.g)(Object(v.b)((function(e){return{sales:e.sales}}),(function(e){return{}}))((function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),l=a[0],c=a[1],s=Object(v.c)();Object(n.useEffect)((function(){null==e.sales&&i()}),[]);var i=function(){c(!0),W().then((function(e){c(!1),null!=e&&s(g(e))}))};return r.a.createElement(X,null,r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-2"},r.a.createElement("button",{type:"button",class:"btn btn-outline-info btn-sm",onClick:function(){return i()}},"Refresh Results",l?r.a.createElement("i",{className:"fa fa-spinner fa-spin",style:{marginLeft:"5px"}}):null))),r.a.createElement("div",{className:"row justify-content-center",style:{paddingTop:"30px"}},r.a.createElement("div",{className:"col-10"},r.a.createElement("div",{className:"py-4"},r.a.createElement("div",{class:"card-deck"},r.a.createElement("div",{class:"card border-0"},r.a.createElement(ce,{sales:e.sales})),r.a.createElement("div",{class:"card border-0"},r.a.createElement(se,{sales:e.sales})),r.a.createElement("div",{class:"card border-0"},r.a.createElement(ie,{sales:e.sales})))),r.a.createElement("div",{className:"shadow rounded p-5 mb-5"},r.a.createElement(Ie,{sales:e.sales,didSelectItem:function(e){}})))),r.a.createElement("div",{style:{height:"50px"}}))})));var Pe=Object(v.b)((function(e){return{authenticated:e.global.authenticated}}))((function(e){return r.a.createElement(s.a,null,r.a.createElement(i.d,null,r.a.createElement(ke,{exact:!0,path:"/products",component:ye,authenticated:e.authenticated}),r.a.createElement(ke,{exact:!0,path:"/product/:id",component:xe,authenticated:e.authenticated}),r.a.createElement(ke,{exact:!0,path:"/dashboard",component:me,authenticated:e.authenticated}),r.a.createElement(ke,{exact:!0,path:"/sales",component:Te,authenticated:e.authenticated}),r.a.createElement(je,{exact:!0,path:"/",component:G,authenticated:e.authenticated}),r.a.createElement(je,{exact:!0,path:"/register",component:H,authenticated:e.authenticated}),r.a.createElement(i.b,{path:"*",component:we})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _e=a(32),Ae={authenticated:!1,guid:"",user:null,pageNumber:1,registered:0,showModal:0},Ce=Object(_e.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object.assign({},e,{user:t.payload});case"LOGOUT":return{};case"IS_AUTHENTICATED":return null!=e.user;default:return e}},global:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;return"STORE_AUTH"===t.type?Object.assign({},e,{authenticated:t.payload.authenticated,guid:t.payload.guid,user:t.payload.user}):"STORE_PAGE_NUMBER"===t.type?Object.assign({},e,{pageNumber:t.payload}):"SET_REGISTERED"===t.type?Object.assign({},e,{registered:t.payload.registered,showModal:t.payload.showModal}):e},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"products_UPDATE":var a=e.findIndex((function(e){return e.offerId===t.payload.offerId}));if(-1==a)return e;var n=Object.assign([],e);return n.splice(a,1,t.payload),n;case"products_SET":return t.payload||[];case"products_CLEAR":return[];default:return e}},sales:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"sales_SET":return t.payload||[];case"sales_CLEAR":return[];default:return e}}}),ze=Ae;try{null===(ze=window.localStorage.getItem("price.beater"))&&(ze=Ae),ze=JSON.parse(ze)}catch(Be){ze=Ae}var Re=Object(_e.c)(Ce,ze,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());window.store=Re;var Le=window.localStorage;window.store.subscribe((function(){De(Re.getState())}));var De=function(e){try{var t=JSON.stringify(e);Le.setItem("price.beater",t)}catch(Be){console.log(Be)}};c.a.render(r.a.createElement(v.a,{store:Re},r.a.createElement(Pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},28:function(e,t,a){},66:function(e,t,a){e.exports=a.p+"static/media/logo.7f594ed9.png"},72:function(e,t,a){e.exports=a(128)},77:function(e,t,a){},95:function(e,t,a){}},[[72,1,2]]]);
//# sourceMappingURL=main.f43609ee.chunk.js.map